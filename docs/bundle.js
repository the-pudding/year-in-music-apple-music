!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=55)}([function(e,t,r){"use strict";t.__esModule=!0,t.extend=a,t.indexOf=function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!s.test(e))return e;return e.replace(n,o)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=a({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,s=/[&<>"'`=]/;function o(e){return i[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var l=Object.prototype.toString;t.toString=l;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),t.isFunction=u;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};t.isArray=c},function(e,t,r){"use strict";t.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(e,t){var r=t&&t.loc,s=void 0,o=void 0,a=void 0,l=void 0;r&&(s=r.start.line,o=r.end.line,a=r.start.column,l=r.end.column,e+=" - "+s+":"+a);for(var u=Error.prototype.constructor.call(this,e),c=0;c<i.length;c++)this[i[c]]=u[i[c]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{r&&(this.lineNumber=s,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}n.prototype=new Error,t.default=n,e.exports=t.default},function(e,t,r){var i;
/*!
 * Real Shadow v1.4.1
 * http://indamix.github.io/real-shadow
 *
 * (c) 2012-2015 Ivan Indamix
 * Licensed under the MIT license
 * https://raw.github.com/Indamix/real-shadow/master/license.txt
 */!function(n,s){"use strict";var o,a={DEFAULT:{length:7,opacity:.05},DROP:{length:4,opacity:.2},FLAT:{length:40,opacity:1}},l=Math.PI,u=[];function c(e,t){this!==n&&void 0!==this&&(t=e,e=this);for(var r=function(e){var t="flat"===(e=e||{}).style?a.FLAT:"drop"===e.type?a.DROP:a.DEFAULT;t.opacity=e.opacity,t.length=e.length;var r={inset:e.inset?"inset":"",inverse:e.inverse?-1:1};return f({},e,t,r)}(t),i=0;i<e.length;++i)u.push(p(e[i],r));return o||(!1!==r.followMouse&&void 0===r.angle&&(document.body.addEventListener("mousemove",c.frame),o=!0),n.addEventListener("resize",c.update)),c.frame(),e}function p(e,t){return f({node:e,color:e.getAttribute("data-shadow-color")||"0,0,0"},d(e),t)}function h(e,t,r){for(var i,n=new Array(e.length-1),s=Math.sin(t),o=Math.cos(t),a=1;a<e.length;++a){let t=e.opacity;1==a&&(t=0),i=("flat"===e.style?a:Math.pow(a,r))*e.inverse,n[a-1]=(i*s|0)+"px "+(i*o|0)+"px "+("flat"===e.style?0:0|Math.pow(a,1.7))+"px rgba("+e.color+","+t+")"+e.inset}"drop"===e.type?e.node.style.filter=e.node.style.webkitFilter="drop-shadow("+n.join(") drop-shadow(")+")":e.node.style["text"===e.type?"textShadow":"boxShadow"]=n.join(",")}function d(e){var t=e.clientWidth>>1,r=e.clientHeight>>1;do{t+=e.offsetLeft,r+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:r}}c.reset=function(){u=[],document.body.removeEventListener("mousemove",c.frame),n.removeEventListener("resize",c.update),o=!1},c.update=function(){for(var e,t=u.length;t--;)e=u[t],f(e,d(e.node));c.frame()},c.frame=function(e){e||(e={pageX:n.innerWidth>>1,pageY:0});for(var t,r=u.length;r--;){var i=(void 0===(t=u[r]).pageX?e.pageX:t.pageX)-t.x,s=(void 0===t.pageY?e.pageY:t.pageY)-t.y,o=Math.pow(i*i+s*s,.8)*(1/1500)+1;o>2.3&&(o=2.3),h(t,void 0===t.angle?Math.atan2(i,s)-l:t.angle,o)}};var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},m=!1;"function"==typeof n.jQuery&&($.fn.realshadow=c,m=!0),void 0===(i=function(){return c}.call(t,r,t,e))||(e.exports=i),m=!0,e.exports&&(e.exports=c,m=!0),m||(n.realshadow=c)}(window)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var i=[],s=0;s<r.length;++s)void 0!==r[s]&&i.push(r[s]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var n="",o=0;o<i.length;++o){var a=i.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=i.charAt(o):a<128?n+=s[a]:a<2048?n+=s[192|a>>6]+s[128|63&a]:a<55296||a>=57344?n+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&i.charCodeAt(o)),n+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return n},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(n(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:function e(t,r,s){if(!r)return t;if("object"!=typeof r){if(n(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return n(t)&&!n(r)&&(a=o(t,s)),n(t)&&n(r)?(r.forEach((function(r,n){if(i.call(t,n)){var o=t[n];o&&"object"==typeof o&&r&&"object"==typeof r?t[n]=e(o,r,s):t.push(r)}else t[n]=r})),t):Object.keys(r).reduce((function(t,n){var o=r[n];return i.call(t,n)?t[n]=e(t[n],o,s):t[n]=o,t}),a)}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=c;var n=r(0),s=i(r(1)),o=r(9),a=r(42),l=i(r(10)),u=r(11);t.VERSION="4.7.6";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function c(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},o.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===n.toString.call(e)){if(t)throw new s.default("Arg not supported with multiple helpers");n.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===n.toString.call(e))n.extend(this.partials,e);else{if(void 0===t)throw new s.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===n.toString.call(e)){if(t)throw new s.default("Arg not supported with multiple decorators");n.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var p=l.default.log;t.log=p,t.createFrame=n.createFrame,t.logger=l.default},function(e,t,r){"use strict";var i=function(e){if(!e)throw new Error("No builder supplied to constructor");this.host=e.host,this.port=e.port,this.scheme=e.scheme,this.queryParameters=e.queryParameters,this.bodyParameters=e.bodyParameters,this.headers=e.headers,this.path=e.path};i.prototype._getter=function(e){return function(){return this[e]}},i.prototype.getHost=i.prototype._getter("host"),i.prototype.getPort=i.prototype._getter("port"),i.prototype.getScheme=i.prototype._getter("scheme"),i.prototype.getPath=i.prototype._getter("path"),i.prototype.getQueryParameters=i.prototype._getter("queryParameters"),i.prototype.getBodyParameters=i.prototype._getter("bodyParameters"),i.prototype.getHeaders=i.prototype._getter("headers"),i.prototype.getURI=function(){if(!this.scheme||!this.host||!this.port)throw new Error("Missing components necessary to construct URI");var e=this.scheme+"://"+this.host;return("http"===this.scheme&&80!==this.port||"https"===this.scheme&&443!==this.port)&&(e+=":"+this.port),this.path&&(e+=this.path),e},i.prototype.getURL=function(){var e=this.getURI();return this.getQueryParameters()?e+this.getQueryParameterString(this.getQueryParameters()):e},i.prototype.getQueryParameterString=function(){var e=this.getQueryParameters();if(e)return"?"+Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return t+"="+e[t]})).join("&")},i.prototype.execute=function(e,t){if(!t){var r=this;return new Promise((function(t,i){e(r,(function(e,r){e?i(e):t(r)}))}))}e(this,t)};var n=function(){};n.prototype._setter=function(e){return function(t){return this[e]=t,this}},n.prototype.withHost=n.prototype._setter("host"),n.prototype.withPort=n.prototype._setter("port"),n.prototype.withScheme=n.prototype._setter("scheme"),n.prototype.withPath=n.prototype._setter("path"),n.prototype._assigner=function(e){return function(){for(var t=0;t<arguments.length;t++)this[e]=this._assign(this[e],arguments[t]);return this}},n.prototype.withQueryParameters=n.prototype._assigner("queryParameters"),n.prototype.withBodyParameters=n.prototype._assigner("bodyParameters"),n.prototype.withHeaders=n.prototype._assigner("headers"),n.prototype.withAuth=function(e){return e&&this.withHeaders({Authorization:"Bearer "+e}),this},n.prototype._assign=function(e,t){return t&&Array.isArray(t)||t&&"string"==typeof t?t:t&&Object.keys(t).length>0?Object.assign(e||{},t):e},n.prototype.build=function(){return new i(this)},e.exports.builder=function(){return new n}},function(e,t,r){"use strict";var i=String.prototype.replace,n=/%20/g,s=r(4),o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=s.assign({default:o.RFC3986,formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return String(e)}}},o)},function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!==e&&"object"===i(e)}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){n.default(e),s.default(e),o.default(e),a.default(e),l.default(e),u.default(e),c.default(e)},t.moveHelperToHooks=function(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])};var n=i(r(35)),s=i(r(36)),o=i(r(37)),a=i(r(38)),l=i(r(39)),u=i(r(40)),c=i(r(41))},function(e,t,r){"use strict";t.__esModule=!0;var i=r(0),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];console[t].apply(console,i)}}};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,r){return o("function"==typeof e?t.methods:t.properties,r)},t.resetLoggedProperties=function(){Object.keys(s).forEach((function(e){delete s[e]}))};var i=r(44),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(10)),s=Object.create(null);function o(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==s[e]&&(s[e]=!0,n.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},function(e,t,r){"use strict";(function(r){t.__esModule=!0,t.default=function(e){var t=void 0!==r?r:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(this,r(3))},function(e,t,r){"use strict";t.__esModule=!0;var i={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!i.helpers.scopedId(e)&&!e.depth}}};t.default=i,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i,n=r(1),s=(i=n)&&i.__esModule?i:{default:i};function o(){this.parents=[]}function a(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function l(e){a.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function u(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(e,t){var r=this.accept(e[t]);if(this.mutating){if(r&&!o.prototype[r.type])throw new s.default('Unexpected node type "'+r.type+'" found when accepting '+t+" on "+e.type);e[t]=r}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new s.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,r=e.length;t<r;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,r--)},accept:function(e){if(e){if(!this[e.type])throw new s.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:a,Decorator:a,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:function(e){u.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=o,e.exports=t.default},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=a||l||Function("return this")(),c=Object.prototype.toString,p=Math.max,h=Math.min,d=function(){return u.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=n.test(e);return a||s.test(e)?o(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,r){var i,n,s,o,a,l,u=0,c=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=i,s=n;return i=n=void 0,u=t,o=e.apply(s,r)}function _(e){return u=e,a=setTimeout(b,t),c?y(e):o}function w(e){var r=e-l;return void 0===l||r>=t||r<0||v&&e-u>=s}function b(){var e=d();if(w(e))return k(e);a=setTimeout(b,function(e){var r=t-(e-l);return v?h(r,s-(e-u)):r}(e))}function k(e){return a=void 0,g&&i?y(e):(i=n=void 0,o)}function x(){var e=d(),r=w(e);if(i=arguments,n=this,l=e,r){if(void 0===a)return _(l);if(v)return a=setTimeout(b,t),y(l)}return void 0===a&&(a=setTimeout(b,t)),o}return t=m(t)||0,f(r)&&(c=!!r.leading,s=(v="maxWait"in r)?p(m(r.maxWait)||0,t):s,g="trailing"in r?!!r.trailing:g),x.cancel=function(){void 0!==a&&clearTimeout(a),u=0,i=l=n=a=void 0},x.flush=function(){return void 0===a?o:k(d())},x}}).call(this,r(3))},function(e,t,r){e.exports=r(17)},function(e,t,r){"use strict";r(18);var i=r(19),n=r(20);function s(e){this._credentials=e||{}}s.prototype={setCredentials:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._credentials[t]=e[t])},getCredentials:function(){return this._credentials},resetCredentials:function(){this._credentials=null},setClientId:function(e){this._setCredential("clientId",e)},setClientSecret:function(e){this._setCredential("clientSecret",e)},setAccessToken:function(e){this._setCredential("accessToken",e)},setRefreshToken:function(e){this._setCredential("refreshToken",e)},setRedirectURI:function(e){this._setCredential("redirectUri",e)},getRedirectURI:function(){return this._getCredential("redirectUri")},getClientId:function(){return this._getCredential("clientId")},getClientSecret:function(){return this._getCredential("clientSecret")},getAccessToken:function(){return this._getCredential("accessToken")},getRefreshToken:function(){return this._getCredential("refreshToken")},resetClientId:function(){this._resetCredential("clientId")},resetClientSecret:function(){this._resetCredential("clientSecret")},resetAccessToken:function(){this._resetCredential("accessToken")},resetRefreshToken:function(){this._resetCredential("refreshToken")},resetRedirectURI:function(){this._resetCredential("redirectUri")},_setCredential:function(e,t){this._credentials=this._credentials||{},this._credentials[e]=t},_getCredential:function(e){return this._credentials?this._credentials[e]:void 0},_resetCredential:function(e){this._credentials&&(this._credentials[e]=null)},getTrack:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/tracks/"+e).withQueryParameters(t).build().execute(n.get,r)},getTracks:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/tracks").withQueryParameters({ids:e.join(",")},t).build().execute(n.get,r)},getAlbum:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/albums/"+e).withQueryParameters(t).build().execute(n.get,r)},getAlbums:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/albums").withQueryParameters({ids:e.join(",")},t).build().execute(n.get,r)},getArtist:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/artists/"+e).build().execute(n.get,t)},getArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/artists").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},search:function(e,t,r,s){return i.builder(this.getAccessToken()).withPath("/v1/search/").withQueryParameters({type:t.join(","),q:e},r).build().execute(n.get,s)},searchAlbums:function(e,t,r){return this.search(e,["album"],t,r)},searchArtists:function(e,t,r){return this.search(e,["artist"],t,r)},searchTracks:function(e,t,r){return this.search(e,["track"],t,r)},searchPlaylists:function(e,t,r){return this.search(e,["playlist"],t,r)},getArtistAlbums:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/albums").withQueryParameters(t).build().execute(n.get,r)},getAlbumTracks:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/albums/"+e+"/tracks").withQueryParameters(t).build().execute(n.get,r)},getArtistTopTracks:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/top-tracks").withQueryParameters({country:t}).build().execute(n.get,r)},getArtistRelatedArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/related-artists").build().execute(n.get,t)},getUser:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/users/"+encodeURIComponent(e)).build().execute(n.get,t)},getMe:function(e){return i.builder(this.getAccessToken()).withPath("/v1/me").build().execute(n.get,e)},getUserPlaylists:function(e,t,r){var s;return"string"==typeof e?s="/v1/users/"+encodeURIComponent(e)+"/playlists":"object"==typeof e?(r=t,t=e,s="/v1/me/playlists"):s="/v1/me/playlists",i.builder(this.getAccessToken()).withPath(s).withQueryParameters(t).build().execute(n.get,r)},getPlaylist:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e).withQueryParameters(t).build().execute(n.get,r)},getPlaylistTracks:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withQueryParameters(t).build().execute(n.get,r)},createPlaylist:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/me/playlists").withHeaders({"Content-Type":"application/json"}).withBodyParameters({name:e},t).build().execute(n.post,r)},followPlaylist:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/followers").withHeaders({"Content-Type":"application/json"}).withBodyParameters(t).build().execute(n.put,r)},unfollowPlaylist:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/followers").build().execute(n.del,t)},changePlaylistDetails:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e).withHeaders({"Content-Type":"application/json"}).withBodyParameters(t).build().execute(n.put,r)},uploadCustomPlaylistCoverImage:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/images").withHeaders({"Content-Type":"image/jpeg"}).withBodyParameters(t).build().execute(n.put,r)},addTracksToPlaylist:function(e,t,r,s){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withQueryParameters(r).withBodyParameters({uris:t}).build().execute(n.post,s)},removeTracksFromPlaylist:function(e,t,r,s){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({tracks:t},r).build().execute(n.del,s)},removeTracksFromPlaylistByPosition:function(e,t,r,s){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({positions:t,snapshot_id:r}).build().execute(n.del,s)},replaceTracksInPlaylist:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({uris:t}).build().execute(n.put,r)},reorderTracksInPlaylist:function(e,t,r,s,o){return i.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({range_start:t,insert_before:r},s).build().execute(n.put,o)},getAudioFeaturesForTrack:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/audio-features/"+e).build().execute(n.get,t)},getAudioAnalysisForTrack:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/audio-analysis/"+e).build().execute(n.get,t)},getAudioFeaturesForTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/audio-features").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},getRecommendations:function(e,t){var r={},s=["seed_artists","seed_genres","seed_tracks"];for(var o in e)e.hasOwnProperty(o)&&(-1!==s.indexOf(o)&&"[object Array]"===Object.prototype.toString.call(e[o])?r[o]=e[o].join(","):r[o]=e[o]);return i.builder(this.getAccessToken()).withPath("/v1/recommendations").withQueryParameters(r).build().execute(n.get,t)},getAvailableGenreSeeds:function(e){return i.builder(this.getAccessToken()).withPath("/v1/recommendations/available-genre-seeds").build().execute(n.get,e)},getMySavedTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/tracks").withQueryParameters(e).build().execute(n.get,t)},containsMySavedTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/tracks/contains").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},removeFromMySavedTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({ids:e}).build().execute(n.del,t)},addToMySavedTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({ids:e}).build().execute(n.put,t)},removeFromMySavedAlbums:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/albums").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.del,t)},addToMySavedAlbums:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/albums").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.put,t)},getMySavedAlbums:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/albums").withQueryParameters(e).build().execute(n.get,t)},containsMySavedAlbums:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/albums/contains").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},getMyTopArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/top/artists").withQueryParameters(e).build().execute(n.get,t)},getMyTopTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/top/tracks").withQueryParameters(e).build().execute(n.get,t)},getMyRecentlyPlayedTracks:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player/recently-played").withQueryParameters(e).build().execute(n.get,t)},addToQueue:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/me/player/queue").withQueryParameters({uri:e},t).build().execute(n.post,r)},getMyDevices:function(e){return i.builder(this.getAccessToken()).withPath("/v1/me/player/devices").build().execute(n.get,e)},getMyCurrentPlayingTrack:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player/currently-playing").withQueryParameters(e).build().execute(n.get,t)},getMyCurrentPlaybackState:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player").withQueryParameters(e).build().execute(n.get,t)},transferMyPlayback:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/me/player").withHeaders({"Content-Type":"application/json"}).withBodyParameters({device_ids:e,play:!!t.play}).build().execute(n.put,r)},play:function(e,t){var r=e||{},s=r.device_id?{device_id:r.device_id}:null,o={};return["context_uri","uris","offset","position_ms"].forEach((function(e){e in r&&(o[e]=r[e])})),i.builder(this.getAccessToken()).withPath("/v1/me/player/play").withQueryParameters(s).withHeaders({"Content-Type":"application/json"}).withBodyParameters(o).build().execute(n.put,t)},pause:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player/pause").withQueryParameters(e&&e.device_id?{device_id:e.device_id}:null).withHeaders({"Content-Type":"application/json"}).build().execute(n.put,t)},skipToPrevious:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player/previous").withQueryParameters(e&&e.device_id?{device_id:e.device_id}:null).build().execute(n.post,t)},skipToNext:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/player/next").withQueryParameters(e&&e.device_id?{device_id:e.device_id}:null).build().execute(n.post,t)},seek:function(e,t,r){var s={position_ms:e};return t&&"device_id"in t&&(s.device_id=t.device_id),i.builder(this.getAccessToken()).withPath("/v1/me/player/seek").withQueryParameters(s).build().execute(n.put,r)},setRepeat:function(e,t,r){var s={state:e};return t&&"device_id"in t&&(s.device_id=t.device_id),i.builder(this.getAccessToken()).withPath("/v1/me/player/repeat").withQueryParameters(s).build().execute(n.put,r)},setShuffle:function(e,t,r){var s={state:e};return t&&"device_id"in t&&(s.device_id=t.device_id),i.builder(this.getAccessToken()).withPath("/v1/me/player/shuffle").withQueryParameters(s).build().execute(n.put,r)},setVolume:function(e,t,r){var s={volume_percent:e};return t&&"device_id"in t&&(s.device_id=t.device_id),i.builder(this.getAccessToken()).withPath("/v1/me/player/volume").withQueryParameters(s).build().execute(n.put,r)},followUsers:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.put,t)},followArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.put,t)},unfollowUsers:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.del,t)},unfollowArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.del,t)},isFollowingUsers:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following/contains").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.get,t)},getFollowedArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({type:"artist"},e).build().execute(n.get,t)},areFollowingPlaylist:function(e,t,r,s){return i.builder(this.getAccessToken()).withPath("/v1/users/"+encodeURIComponent(e)+"/playlists/"+t+"/followers/contains").withQueryParameters({ids:r.join(",")}).build().execute(n.get,s)},isFollowingArtists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/following/contains").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.get,t)},getNewReleases:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/browse/new-releases").withQueryParameters(e).build().execute(n.get,t)},getFeaturedPlaylists:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/browse/featured-playlists").withQueryParameters(e).build().execute(n.get,t)},getCategories:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/browse/categories").withQueryParameters(e).build().execute(n.get,t)},getCategory:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/browse/categories/"+e).withQueryParameters(t).build().execute(n.get,r)},getPlaylistsForCategory:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/browse/categories/"+e+"/playlists").withQueryParameters(t).build().execute(n.get,r)},getShow:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/shows/"+e).withQueryParameters(t).build().execute(n.get,r)},getShows:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/shows").withQueryParameters({ids:e.join(",")},t).build().execute(n.get,r)},containsMySavedShows:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/shows/contains").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},removeFromMySavedShows:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/shows").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.del,t)},addToMySavedShows:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/shows").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.put,t)},getMySavedShows:function(e,t){return i.builder(this.getAccessToken()).withPath("/v1/me/shows").withQueryParameters(e).build().execute(n.get,t)},getShowEpisodes:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/shows/"+e+"/episodes").withQueryParameters(t).build().execute(n.get,r)},searchShows:function(e,t,r){return this.search(e,["show"],t,r)},searchEpisodes:function(e,t,r){return this.search(e,["episode"],t,r)},getEpisode:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/episodes/"+e).withQueryParameters(t).build().execute(n.get,r)},getEpisodes:function(e,t,r){return i.builder(this.getAccessToken()).withPath("/v1/episodes").withQueryParameters({ids:e.join(",")},t).build().execute(n.get,r)}},s._addMethods=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.prototype[t]=e[t])},e.exports=s},function(e,t,r){"use strict";var i=r(6);e.exports.builder=function(){return i.builder().withHost("accounts.spotify.com").withPort(443).withScheme("https")}},function(e,t,r){"use strict";var i=r(6);e.exports.builder=function(e){return i.builder().withHost("api.spotify.com").withPort(443).withScheme("https").withAuth(e)}},function(e,t,r){"use strict";var i=r(21),{TimeoutError:n,WebapiError:s,WebapiRegularError:o,WebapiAuthenticationError:a,WebapiPlayerError:l}=r(31),u={},c=function(e){var t={};return e.getQueryParameters()&&(t.query=e.getQueryParameters()),e.getHeaders()&&"application/json"===e.getHeaders()["Content-Type"]?t.data=JSON.stringify(e.getBodyParameters()):e.getBodyParameters()&&(t.data=e.getBodyParameters()),e.getHeaders()&&(t.headers=e.getHeaders()),t};u._makeRequest=function(e,t,r,s){var o=e.bind(i)(r);t.query&&o.query(t.query),t.headers&&o.set(t.headers),t.data&&o.send(t.data),o.end((function(e,t){return e?e.timeout?s(new n):s(e.response):s(null,{body:t.body,headers:t.headers,statusCode:t.statusCode})}))},u.get=function(e,t){var r=c(e),n=i.get;u._makeRequest(n,r,e.getURI(),t)},u.post=function(e,t){var r=c(e),n=i.post;u._makeRequest(n,r,e.getURI(),t)},u.del=function(e,t){var r=c(e),n=i.del;u._makeRequest(n,r,e.getURI(),t)},u.put=function(e,t){var r=c(e),n=i.put;u._makeRequest(n,r,e.getURI(),t)},e.exports=u},function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;"undefined"!=typeof window?n=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var s=r(22),o=r(23),a=r(24),l=r(27),u=r(8),c=r(28),p=r(30);function h(){}e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1===arguments.length?new t.Request("GET",e):new t.Request(e,r)};var d=t=e.exports;t.Request=w,d.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||"file:"!==n.location.protocol||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function m(e){if(!u(e))return e;var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&v(t,r,e[r]);return t.join("&")}function v(e,t,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach((function(r){v(e,t,r)}));else if(u(r))for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&v(e,"".concat(t,"[").concat(i,"]"),r[i]);else e.push(encodeURI(t)+"="+encodeURIComponent(r));else e.push(encodeURI(t))}function g(e){for(var t,r,i={},n=e.split("&"),s=0,o=n.length;s<o;++s)-1===(r=(t=n[s]).indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return i}function y(e){return/[/+]json($|[^-\w])/i.test(e)}function _(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,r,i,n,s=e.split(/\r?\n/),o={},a=0,l=s.length;a<l;++a)-1!==(t=(r=s[a]).indexOf(":"))&&(i=r.slice(0,t).toLowerCase(),n=f(r.slice(t+1)),o[i]=n);return o}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function w(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,i=null;try{i=new _(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",i);try{r._isResponseOK(i)||(e=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=i.status,r.callback(e,i)):r.callback(null,i)}))}function b(e,t,r){var i=d("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i}d.serializeObject=m,d.parseString=g,d.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":a.stringify,"application/json":o},d.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},c(_.prototype),_.prototype._parseBody=function(e){var t=d.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&y(this.type)&&(t=d.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},_.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,i="cannot ".concat(t," ").concat(r," (").concat(this.status,")"),n=new Error(i);return n.status=this.status,n.method=t,n.url=r,n},d.Response=_,s(w.prototype),l(w.prototype),w.prototype.type=function(e){return this.set("Content-Type",d.types[e]||e),this},w.prototype.accept=function(e){return this.set("Accept",d.types[e]||e),this},w.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===i(t)&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)},w.prototype.query=function(e){return"string"!=typeof e&&(e=m(e)),e&&this._query.push(e),this},w.prototype.attach=function(e,t,r){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},w.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},w.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},w.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},w.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},w.prototype.ca=w.prototype.agent,w.prototype.buffer=w.prototype.ca,w.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},w.prototype.pipe=w.prototype.write,w.prototype._isHost=function(e){return e&&"object"===i(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},w.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||h,this._finalizeQueryString(),this._end()},w.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},w.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=d.getXHR();var t=this.xhr,r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===r){var i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(e._uploadTimeoutTimer)),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.addEventListener("progress",i.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",i.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],s=this._serializer||d.serialize[n?n.split(";")[0]:""];!s&&y(n)&&(s=d.serialize["application/json"]),s&&(r=s(r))}for(var o in this.header)null!==this.header[o]&&Object.prototype.hasOwnProperty.call(this.header,o)&&t.setRequestHeader(o,this.header[o]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===r?null:r)},d.agent=function(){return new p},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){p.prototype[e.toLowerCase()]=function(t,r){var i=new d.Request(e,t);return this._setDefaults(i),r&&i.end(r),i}})),p.prototype.del=p.prototype.delete,d.get=function(e,t,r){var i=d("GET",e);return"function"==typeof t&&(r=t,t=null),t&&i.query(t),r&&i.end(r),i},d.head=function(e,t,r){var i=d("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&i.query(t),r&&i.end(r),i},d.options=function(e,t,r){var i=d("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},d.del=b,d.delete=b,d.patch=function(e,t,r){var i=d("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},d.post=function(e,t,r){var i=d("POST",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},d.put=function(e,t,r){var i=d("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i}},function(e,t,r){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<i.length;n++)if((r=i[n])===t||r.fn===t){i.splice(n,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){i=0;for(var n=(r=r.slice(0)).length;i<n;++i)r[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=n,n.default=n,n.stable=o,n.stableStringify=o;var r=[],i=[];function n(e,t,n){var s;for(!function e(t,n,s,o){var a;if("object"==typeof t&&null!==t){for(a=0;a<s.length;a++)if(s[a]===t){var l=Object.getOwnPropertyDescriptor(o,n);return void(void 0!==l.get?l.configurable?(Object.defineProperty(o,n,{value:"[Circular]"}),r.push([o,n,t,l])):i.push([t,n]):(o[n]="[Circular]",r.push([o,n,t])))}if(s.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,s,t);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];e(t[c],c,s,t)}}s.pop()}}(e,"",[],void 0),s=0===i.length?JSON.stringify(e,t,n):JSON.stringify(e,a(t),n);0!==r.length;){var o=r.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return s}function s(e,t){return e<t?-1:e>t?1:0}function o(e,t,n){var o,l=function e(t,n,o,a){var l;if("object"==typeof t&&null!==t){for(l=0;l<o.length;l++)if(o[l]===t){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),r.push([a,n,t,u])):i.push([t,n]):(a[n]="[Circular]",r.push([a,n,t])))}if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(l=0;l<t.length;l++)e(t[l],l,o,t);else{var c={},p=Object.keys(t).sort(s);for(l=0;l<p.length;l++){var h=p[l];e(t[h],h,o,t),c[h]=t[h]}if(void 0===a)return c;r.push([a,n,t]),a[n]=c}o.pop()}}(e,"",[],void 0)||e;for(o=0===i.length?JSON.stringify(l,t,n):JSON.stringify(l,a(t),n);0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return o}function a(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n];if(s[1]===t&&s[0]===r){r="[Circular]",i.splice(n,1);break}}return e.call(this,t,r)}}},function(e,t,r){"use strict";var i=r(25),n=r(26),s=r(7);e.exports={formats:s,parse:n,stringify:i}},function(e,t,r){"use strict";var i=r(4),n=r(7),s=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,a(t)?t:[t])},c=Date.prototype.toISOString,p=n.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:n.formatters[p],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,n,s,o,l,c,p,d,f,m,v,g){var y,_=t;if("function"==typeof c?_=c(r,_):_ instanceof Date?_=f(_):"comma"===n&&a(_)&&(_=i.maybeMap(_,(function(e){return e instanceof Date?f(e):e})).join(",")),null===_){if(s)return l&&!v?l(r,h.encoder,g,"key"):r;_=""}if("string"==typeof(y=_)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||i.isBuffer(_))return l?[m(v?r:l(r,h.encoder,g,"key"))+"="+m(l(_,h.encoder,g,"value"))]:[m(r)+"="+m(String(_))];var w,b=[];if(void 0===_)return b;if(a(c))w=c;else{var k=Object.keys(_);w=p?k.sort(p):k}for(var x=0;x<w.length;++x){var T=w[x],S=_[T];if(!o||null!==S){var P=a(_)?"function"==typeof n?n(r,T):r:r+(d?"."+T:"["+T+"]");u(b,e(S,P,n,s,o,l,c,p,d,f,m,v,g))}}return b};e.exports=function(e,t){var r,i=e,l=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!s.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=n.formatters[r],o=h.filter;return("function"==typeof e.filter||a(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof l.filter?i=(0,l.filter)("",i):a(l.filter)&&(r=l.filter);var c,p=[];if("object"!=typeof i||null===i)return"";c=t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=o[c];r||(r=Object.keys(i)),l.sort&&r.sort(l.sort);for(var m=0;m<r.length;++m){var v=r[m];l.skipNulls&&null===i[v]||u(p,d(i[v],v,f,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var g=p.join(l.delimiter),y=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}},function(e,t,r){"use strict";var i=r(4),n=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,c=[];if(u){if(!r.plainObjects&&n.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var p=0;r.depth>0&&null!==(a=o.exec(s))&&p<r.depth;){if(p+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+s.slice(a.index)+"]"),function(e,t,r,i){for(var n=i?t:l(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);r.parseArrays||""!==u?!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:o[u]=n:o={0:n}}n=o}return n}(c,t,r,i)}};e.exports=function(e,t){var r=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,u={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,p),d=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?f="utf-8":"utf8=%26%2310003%3B"===h[r]&&(f="iso-8859-1"),d=r,r=h.length);for(r=0;r<h.length;++r)if(r!==d){var m,v,g=h[r],y=g.indexOf("]="),_=-1===y?g.indexOf("="):y+1;-1===_?(m=t.decoder(g,o.decoder,f,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,_),o.decoder,f,"key"),v=i.maybeMap(l(g.slice(_+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),v&&t.interpretNumericEntities&&"iso-8859-1"===f&&(v=a(v)),g.indexOf("[]=")>-1&&(v=s(v)?[v]:v),n.call(u,m)?u[m]=i.combine(u[m],v):u[m]=v}return u}(e,r):e,p=r.plainObjects?Object.create(null):{},h=Object.keys(c),d=0;d<h.length;++d){var f=h[d],m=u(f,c[f],r,"string"==typeof e);p=i.merge(p,m,r)}return i.compact(p)}},function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=r(8);function s(e){if(e)return function(e){for(var t in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,t)&&(e[t]=s.prototype[t]);return e}(e)}e.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(e){return this._parser=e,this},s.prototype.responseType=function(e){return this._responseType=e,this},s.prototype.serialize=function(e){return this._serializer=e,this},s.prototype.timeout=function(e){if(!e||"object"!==i(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},s.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),a=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&a.has(t.status))return!0;if(e){if(e.code&&o.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){i.on("abort",(function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)t(r.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=r.status,e.method=r.method,e.url=r.url,t(e)}})),i.end((function(r,i){r?t(r):e(i)}))}))}return this._fullfilledPromise.then(e,t)},s.prototype.catch=function(e){return this.then(void 0,e)},s.prototype.use=function(e){return e(this),this},s.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},s.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},s.prototype.get=function(e){return this._header[e.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(e,t){if(n(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},s.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},s.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(n(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},s.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},s.prototype._auth=function(e,t,r,i){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(i("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},s.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},s.prototype.redirects=function(e){return this._maxRedirects=e,this},s.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(e){var t=n(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&n(this._data))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(this._data[i]=e[i]);else"string"==typeof e?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===r?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},s.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},s.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}},s.prototype._appendQueryString=function(){console.warn("Unsupported")},s.prototype._timeoutError=function(e,t,r){if(!this._aborted){var i=new Error("".concat(e+t,"ms exceeded"));i.timeout=t,i.code="ECONNABORTED",i.errno=r,this.timedout=!0,this.timedoutError=i,this.abort(),this.callback(i)}},s.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,r){"use strict";var i=r(29);function n(e){if(e)return function(e){for(var t in n.prototype)Object.prototype.hasOwnProperty.call(n.prototype,t)&&(e[t]=n.prototype[t]);return e}(e)}e.exports=n,n.prototype.get=function(e){return this.header[e.toLowerCase()]},n.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var r=i.params(t);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},n.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e}},function(e,t,r){"use strict";function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){var t,r={},n=i(e.split(/ *; */));try{for(n.s();!(t=n.n()).done;){var s=t.value.split(/ *= */),o=s.shift(),a=s.shift();o&&a&&(r[o]=a)}}catch(e){n.e(e)}finally{n.f()}return r},t.parseLinks=function(e){var t,r={},n=i(e.split(/ *, */));try{for(n.s();!(t=n.n()).done;){var s=t.value.split(/ *; */),o=s[0].slice(1,-1);r[s[1].split(/ *= */)[1].slice(1,-1)]=o}}catch(e){n.e(e)}finally{n.f()}return r},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t,r){"use strict";function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function s(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){s.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return this._defaults.push({fn:e,args:r}),this}})),s.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,i(t.args))}))},e.exports=s},function(e,t){class r extends Error{get name(){return this.constructor.name}}class i extends r{constructor(e,t,r,i){super(i),this.body=e,this.headers=t,this.statusCode=r}}e.exports={WebapiError:i,TimeoutError:class extends r{constructor(){super("A timeout occurred while communicating with Spotify's Web API.")}},WebapiRegularError:class extends i{constructor(e,t,r){super(e,t,r,"An error occurred while communicating with Spotify's Web API.\nDetails: "+e.error.message+".")}},WebapiAuthenticationError:class extends i{constructor(e,t,r){super(e,t,r,"An authentication error occurred while communicating with Spotify's Web API.\nDetails: "+e.error+(e.error_description?" "+e.error_description+".":"."))}},WebapiPlayerError:class extends i{constructor(e,t,r){super(e,t,r,"An error occurred while communicating with Spotify's Web API.\nDetails: "+e.error.message+(e.error.reason?" "+e.error.reason+".":"."))}}}},function(e,t,r){(function(r){var i;
/*!
 *  howler.js v2.2.1
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||s;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||s;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,s.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),n=0;n<i.length;n++){var o=t._howls[r]._soundById(i[n]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||s;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,s.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),n=0;n<i.length;n++){var o=t._howls[r]._soundById(i[n]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||s,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||s,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||s)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||s;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||s,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),n=i&&parseInt(i[0].split("/")[1],10)<33;return e._codecs={mp3:!(n||!r&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||s;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(r){e.noAudio=!0;break}for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var s=e._howls[n]._getSoundIds(),o=0;o<s.length;o++){var a=e._howls[n]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||s;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||s;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&s.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&s.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var s=new n,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return s.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=s.usingWebAudio&&!t._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(s.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var r,i;if(this._format&&this._format[t])r=this._format[t];else{if("string"!=typeof(i=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&s.codecs(r)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var r=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e&&(e="__default",!r._playLock)){for(var n=0,o=0;o<r._sounds.length;o++)r._sounds[o]._paused&&!r._sounds[o]._ended&&(n++,i=r._sounds[o]._id);1===n?e=null:i=null}}var a=i?r._soundById(i):r._inactiveSound();if(!a)return null;if(i&&!e&&(e=a._sprite||"__default"),"loaded"!==r._state){a._sprite=e,a._ended=!1;var l=a._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!a._paused)return t||r._loadQueue("play"),a._id;r._webAudio&&s._autoResume();var u=Math.max(0,a._seek>0?a._seek:r._sprite[e][0]/1e3),c=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-u),p=1e3*c/Math.abs(a._rate),h=r._sprite[e][0]/1e3,d=(r._sprite[e][0]+r._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var f=function(){a._paused=!1,a._seek=u,a._start=h,a._stop=d,a._loop=!(!a._loop&&!r._sprite[e][2])};if(!(u>=d)){var m=a._node;if(r._webAudio){var v=function(){r._playLock=!1,f(),r._refreshBuffer(a);var e=a._muted||r._muted?0:a._volume;m.gain.setValueAtTime(e,s.ctx.currentTime),a._playStart=s.ctx.currentTime,void 0===m.bufferSource.start?a._loop?m.bufferSource.noteGrainOn(0,u,86400):m.bufferSource.noteGrainOn(0,u,c):a._loop?m.bufferSource.start(0,u,86400):m.bufferSource.start(0,u,c),p!==1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),p)),t||setTimeout((function(){r._emit("play",a._id),r._loadQueue()}),0)};"running"===s.state&&"interrupted"!==s.ctx.state?v():(r._playLock=!0,r.once("resume",v),r._clearTimer(a._id))}else{var g=function(){m.currentTime=u,m.muted=a._muted||r._muted||s._muted||m.muted,m.volume=a._volume*s.volume(),m.playbackRate=a._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,f(),i.then((function(){r._playLock=!1,m._unlocked=!0,t||(r._emit("play",a._id),r._loadQueue())})).catch((function(){r._playLock=!1,r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):t||(r._playLock=!1,f(),r._emit("play",a._id),r._loadQueue()),m.playbackRate=a._rate,m.paused)return void r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),p):(r._endTimers[a._id]=function(){r._ended(a),m.removeEventListener("ended",r._endTimers[a._id],!1)},m.addEventListener("ended",r._endTimers[a._id],!1))}catch(e){r._emit("playerror",a._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var y=window&&window.ejecta||!m.readyState&&s._navigator.isCocoonJS;if(m.readyState>=3||y)g();else{r._playLock=!0;var _=function(){g(),m.removeEventListener(s._canPlayEvent,_,!1)};m.addEventListener(s._canPlayEvent,_,!1),r._clearTimer(a._id)}}return a._id}r._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var r=t._getSoundIds(e),i=0;i<r.length;i++){t._clearTimer(r[i]);var n=t._soundById(r[i]);if(n&&!n._paused&&(n._seek=t.seek(r[i]),n._rateSeek=0,n._paused=!0,t._stopFade(r[i]),n._node))if(t._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),t._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||t._emit("pause",n?n._id:null)}return t},stop:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var i=r._getSoundIds(e),n=0;n<i.length;n++){r._clearTimer(i[n]);var s=r._soundById(i[n]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,r._stopFade(i[n]),s._node&&(r._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),r._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&r._clearSound(s._node))),t||r._emit("stop",s._id))}return r},mute:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(void 0===t){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var i=r._getSoundIds(t),n=0;n<i.length;n++){var o=r._soundById(i[n]);o&&(o._muted=e,o._interval&&r._stopFade(o._id),r._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,s.ctx.currentTime):o._node&&(o._node.muted=!!s._muted||e),r._emit("mute",o._id))}return r},volume:function(){var e,t,r,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length||2===n.length&&void 0===n[1]){var o=i._getSoundIds(),a=o.indexOf(n[0]);a>=0?t=parseInt(n[0],10):e=parseFloat(n[0])}else n.length>=2&&(e=parseFloat(n[0]),t=parseInt(n[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(r=t?i._soundById(t):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)(r=i._soundById(t[l]))&&(r._volume=e,n[2]||i._stopFade(t[l]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,s.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*s.volume()),i._emit("volume",r._id));return i},fade:function(e,t,r,i){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(e,t,r,i)}}),n;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),n.volume(e,i);for(var o=n._getSoundIds(i),a=0;a<o.length;a++){var l=n._soundById(o[a]);if(l){if(i||n._stopFade(o[a]),n._webAudio&&!l._muted){var u=s.ctx.currentTime,c=u+r/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}n._startFadeInterval(l,e,t,r,o[a],void 0===i)}}return n},_startFadeInterval:function(e,t,r,i,n,s){var o=this,a=t,l=r-t,u=Math.abs(l/.01),c=Math.max(4,u>0?i/u:i),p=Date.now();e._fadeTo=r,e._interval=setInterval((function(){var n=(Date.now()-p)/i;p=Date.now(),a+=l*n,a=Math.round(100*a)/100,a=l<0?Math.max(r,a):Math.min(r,a),o._webAudio?e._volume=a:o.volume(a,e._id,!0),s&&(o._volume=a),(r<t&&a<=r||r>t&&a>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(r,e._id),o._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,r,i=this,n=arguments;if(0===n.length)return i._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(r=i._soundById(parseInt(n[0],10)))&&r._loop;e=n[0],i._loop=e}else 2===n.length&&(e=n[0],t=parseInt(n[1],10));for(var s=i._getSoundIds(t),o=0;o<s.length;o++)(r=i._soundById(s[o]))&&(r._loop=e,i._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=e,e&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return i},rate:function(){var e,t,r,i=this,n=arguments;if(0===n.length)t=i._sounds[0]._id;else if(1===n.length){var o=i._getSoundIds(),a=o.indexOf(n[0]);a>=0?t=parseInt(n[0],10):e=parseFloat(n[0])}else 2===n.length&&(e=parseFloat(n[0]),t=parseInt(n[1],10));if("number"!=typeof e)return(r=i._soundById(t))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;void 0===t&&(i._rate=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)if(r=i._soundById(t[l])){i.playing(t[l])&&(r._rateSeek=i.seek(t[l]),r._playStart=i._webAudio?s.ctx.currentTime:r._playStart),r._rate=e,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,s.ctx.currentTime):r._node&&(r._node.playbackRate=e);var u=i.seek(t[l]),c=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-u,p=1e3*c/Math.abs(r._rate);!i._endTimers[t[l]]&&r._paused||(i._clearTimer(t[l]),i._endTimers[t[l]]=setTimeout(i._ended.bind(i,r),p)),i._emit("rate",r._id)}return i},seek:function(){var e,t,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){var n=r._getSoundIds(),o=n.indexOf(i[0]);o>=0?t=parseInt(i[0],10):r._sounds.length&&(t=r._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return r;if("number"==typeof e&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var a=r._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(r._webAudio){var l=r.playing(t)?s.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+l*Math.abs(a._rate))}return a._node.currentTime}var c=r.playing(t);c&&r.pause(t,!0),a._seek=e,a._ended=!1,r._clearTimer(t),r._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var p=function(){r._emit("seek",t),c&&r.play(t,!0)};if(c&&!r._webAudio){var h=function(){r._playLock?setTimeout(h,0):p()};setTimeout(h,0)}else p()}return r},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this._duration,r=this._soundById(e);return r&&(t=this._sprite[r._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(s._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),s._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var i=s._howls.indexOf(e);i>=0&&s._howls.splice(i,1);var n=!0;for(r=0;r<s._howls.length;r++)if(s._howls[r]._src===e._src||e._src.indexOf(s._howls[r]._src)>=0){n=!1;break}return l&&n&&delete l[e._src],s.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,r,i){var n=this["_on"+e];return"function"==typeof t&&n.push(i?{id:r,fn:t,once:i}:{id:r,fn:t}),this},off:function(e,t,r){var i=this["_on"+e],n=0;if("number"==typeof t&&(r=t,t=null),t||r)for(n=0;n<i.length;n++){var s=r===i[n].id;if(t===i[n].fn&&s||!t&&s){i.splice(n,1);break}}else if(e)this["_on"+e]=[];else{var o=Object.keys(this);for(n=0;n<o.length;n++)0===o[n].indexOf("_on")&&Array.isArray(this[o[n]])&&(this[o[n]]=[])}return this},once:function(e,t,r){return this.on(e,t,r,1),this},_emit:function(e,t,r){for(var i=this["_on"+e],n=i.length-1;n>=0;n--)i[n].id&&i[n].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,r)}.bind(this,i[n].fn),0),i[n].once&&this.off(e,i[n].fn,i[n].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var r=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&r&&this.stop(e._id,!0).play(e._id),this._webAudio&&r){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=s.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),i)}return this._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),s._autoSuspend()),this._webAudio||r||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,r=0;if(!(this._sounds.length<e)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&t++;for(r=this._sounds.length-1;r>=0;r--){if(t<=e)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],r=0;r<this._sounds.length;r++)t.push(this._sounds[r]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=s.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,s.ctx.currentTime),this},_cleanBuffer:function(e){var t=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(s._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=s._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=s._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),this._node.gain.setValueAtTime(t,s.ctx.currentTime),this._node.paused=!0,this._node.connect(s.masterGain)):s.noAudio||(this._node=s._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(s._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*s.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(s._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void h(e);if(/^data:[^;]+;base64,/.test(t)){for(var r=atob(t.split(",")[1]),i=new Uint8Array(r.length),n=0;n<r.length;++n)i[n]=r.charCodeAt(n);p(i.buffer,e)}else{var s=new XMLHttpRequest;s.open(e._xhr.method,t,!0),s.withCredentials=e._xhr.withCredentials,s.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){s.setRequestHeader(t,e._xhr.headers[t])})),s.onload=function(){var t=(s.status+"")[0];"0"===t||"2"===t||"3"===t?p(s.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(s)}},c=function(e){try{e.send()}catch(t){e.onerror()}},p=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(l[t._src]=e,h(t,e)):r()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(e).then(i).catch(r):s.ctx.decodeAudioData(e,i,r)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(e){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),t=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var i=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!i&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0===(i=function(){return{Howler:s,Howl:o}}.apply(t,[]))||(e.exports=i),t.Howler=s,t.Howl=o,void 0!==r?(r.HowlerGlobal=n,r.Howler=s,r.Howl=o,r.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=s,window.Howl=o,window.Sound=a)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.1
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,r){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof e?this._pos:(this._pos=[e,t,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,r,i,n,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return t="number"!=typeof t?o[1]:t,r="number"!=typeof r?o[2]:r,i="number"!=typeof i?o[3]:i,n="number"!=typeof n?o[4]:n,s="number"!=typeof s?o[5]:s,"number"!=typeof e?o:(this._orientation=[e,t,r,i,n,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,r,i,n,s),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,r)}}),i;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var s=i._getSoundIds(r),o=0;o<s.length;o++){var a=i._soundById(s[o]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,n),"spatial"===n?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",a._id)}}return i},Howl.prototype.pos=function(e,r,i,n){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(e,r,i,n)}}),s;if(r="number"!=typeof r?0:r,i="number"!=typeof i?-.5:i,void 0===n){if("number"!=typeof e)return s._pos;s._pos=[e,r,i]}for(var o=s._getSoundIds(n),a=0;a<o.length;a++){var l=s._soundById(o[a]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,r,i],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(e,r,i)),s._emit("pos",l._id)}}return s},Howl.prototype.orientation=function(e,r,i,n){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(e,r,i,n)}}),s;if(r="number"!=typeof r?s._orientation[1]:r,i="number"!=typeof i?s._orientation[2]:i,void 0===n){if("number"!=typeof e)return s._orientation;s._orientation=[e,r,i]}for(var o=s._getSoundIds(n),a=0;a<o.length;a++){var l=s._soundById(o[a]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,r,i],l._node&&(l._panner||(l._pos||(l._pos=s._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(e,r,i)),s._emit("orientation",l._id)}}return s},Howl.prototype.pannerAttr=function(){var e,r,i,n=this,s=arguments;if(!n._webAudio)return n;if(0===s.length)return n._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(i=n._soundById(parseInt(s[0],10)))?i._pannerAttr:n._pannerAttr;e=s[0],void 0===r&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:n._panningModel})}else 2===s.length&&(e=s[0],r=parseInt(s[1],10));for(var o=n._getSoundIds(r),a=0;a<o.length;a++)if(i=n._soundById(o[a])){var l=i._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=n._pos||[0,0,-.5]),t(i,"spatial"))}return n},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,r(3))},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=i(r(34)),s=i(r(13)),o=r(48),a=r(52),l=i(r(53)),u=i(r(14)),c=i(r(12)),p=n.default.create;function h(){var e=p();return e.compile=function(t,r){return a.compile(t,r,e)},e.precompile=function(t,r){return a.precompile(t,r,e)},e.AST=s.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=l.default,e.Parser=o.parser,e.parse=o.parse,e.parseWithoutProcessing=o.parseWithoutProcessing,e}var d=h();d.create=h,c.default(d),d.Visitor=u.default,d.default=d,t.default=d,e.exports=t.default},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.__esModule=!0;var s=n(r(5)),o=i(r(45)),a=i(r(1)),l=n(r(0)),u=n(r(46)),c=i(r(12));function p(){var e=new s.HandlebarsEnvironment;return l.extend(e,s),e.SafeString=o.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var h=p();h.create=p,c.default(h),h.default=h,t.default=h,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i=r(0);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,r){var n=r.inverse,s=r.fn;if(!0===t)return s(this);if(!1===t||null==t)return n(this);if(i.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):n(this);if(r.data&&r.ids){var o=i.createFrame(r.data);o.contextPath=i.appendContextPath(r.data.contextPath,r.name),r={data:o}}return s(t,r)}))},e.exports=t.default},function(e,t,r){"use strict";(function(i){t.__esModule=!0;var n,s=r(0),o=r(1),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new a.default("Must pass iterator to #each");var r,n=t.fn,o=t.inverse,l=0,u="",c=void 0,p=void 0;function h(t,r,i){c&&(c.key=t,c.index=r,c.first=0===r,c.last=!!i,p&&(c.contextPath=p+t)),u+=n(e[t],{data:c,blockParams:s.blockParams([e[t],t],[p+t,null])})}if(t.data&&t.ids&&(p=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),s.isFunction(e)&&(e=e.call(this)),t.data&&(c=s.createFrame(t.data)),e&&"object"==typeof e)if(s.isArray(e))for(var d=e.length;l<d;l++)l in e&&h(l,l,l===e.length-1);else if(i.Symbol&&e[i.Symbol.iterator]){for(var f=[],m=e[i.Symbol.iterator](),v=m.next();!v.done;v=m.next())f.push(v.value);for(d=(e=f).length;l<d;l++)h(l,l,l===e.length-1)}else r=void 0,Object.keys(e).forEach((function(e){void 0!==r&&h(r,l-1),r=e,l++})),void 0!==r&&h(r,l-1,!0);return 0===l&&(u=o(this)),u}))},e.exports=t.default}).call(this,r(3))},function(e,t,r){"use strict";t.__esModule=!0;var i,n=r(1),s=(i=n)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new s.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i,n=r(0),s=r(1),o=(i=s)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,r){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],r=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var n=1;null!=r.hash.level?n=r.hash.level:r.data&&null!=r.data.level&&(n=r.data.level),t[0]=n,e.log.apply(e,t)}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,r){return e?r.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i,n=r(0),s=r(1),o=(i=s)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");n.isFunction(e)&&(e=e.call(this));var r=t.fn;if(n.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=n.createFrame(t.data)).contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:i,blockParams:n.blockParams([e],[i&&i.contextPath])})}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){s.default(e)};var i,n=r(43),s=(i=n)&&i.__esModule?i:{default:i}},function(e,t,r){"use strict";t.__esModule=!0;var i=r(0);t.default=function(e){e.registerDecorator("inline",(function(e,t,r,n){var s=e;return t.partials||(t.partials={},s=function(n,s){var o=r.partials;r.partials=i.extend({},o,t.partials);var a=e(n,s);return r.partials=o,a}),t.partials[n.args[0]]=n.fn,s}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.extend.apply(void 0,[Object.create(null)].concat(t))};var i=r(0)},function(e,t,r){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t.default=i,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,r=a.COMPILER_REVISION;if(t>=a.LAST_COMPATIBLE_COMPILER_REVISION&&t<=a.COMPILER_REVISION)return;if(t<a.LAST_COMPATIBLE_COMPILER_REVISION){var i=a.REVISION_CHANGES[r],n=a.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+n+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&7===e.compiler[0];var i={strict:function(e,t,r){if(!e||!(t in e))throw new o.default('"'+t+'" not defined in '+e,{loc:r});return e[t]},lookupProperty:function(e,t){var r=e[t];return null==r||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(r,i.protoAccessControl,t)?r:void 0},lookup:function(e,t){for(var r=e.length,n=0;n<r;n++){if(null!=(e[n]&&i.lookupProperty(e[n],t)))return e[n][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:n.escapeExpression,invokePartial:function(r,i,s){s.hash&&(i=n.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),r=t.VM.resolvePartial.call(this,r,i,s);var a=n.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,r,i,a);if(null==l&&t.compile&&(s.partials[s.name]=t.compile(r,e.compilerOptions,t),l=s.partials[s.name](i,a)),null!=l){if(s.indent){for(var u=l.split("\n"),c=0,p=u.length;c<p&&(u[c]||c+1!==p);c++)u[c]=s.indent+u[c];l=u.join("\n")}return l}throw new o.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,i,n){var s=this.programs[e],o=this.fn(e);return t||n||i||r?s=p(this,e,o,t,r,i,n):s||(s=this.programs[e]=p(this,e,o)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=n.extend({},t,e)),r},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.data;s._setup(r),!r.partial&&e.useData&&(n=d(t,n));var o=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,n,a,o)}return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(l=f(e.main,l,i,r.depths||[],n,a))(t,r)}return s.isTop=!0,s._setup=function(s){if(s.partial)i.protoAccessControl=s.protoAccessControl,i.helpers=s.helpers,i.partials=s.partials,i.decorators=s.decorators,i.hooks=s.hooks;else{var o=n.extend({},t.helpers,s.helpers);!function(e,t){Object.keys(e).forEach((function(r){var i=e[r];e[r]=function(e,t){var r=t.lookupProperty;return u.wrapHelper(e,(function(e){return n.extend({lookupProperty:r},e)}))}(i,t)}))}(o,i),i.helpers=o,e.usePartial&&(i.partials=i.mergeIfNeeded(s.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=n.extend({},t.decorators,s.decorators)),i.hooks={},i.protoAccessControl=c.createProtoAccessControl(s);var a=s.allowCallsToHelperMissing||r;l.moveHelperToHooks(i,"helperMissing",a),l.moveHelperToHooks(i,"blockHelperMissing",a)}},s._child=function(t,r,n,s){if(e.useBlockParams&&!n)throw new o.default("must pass block params");if(e.useDepths&&!s)throw new o.default("must pass parent depths");return p(i,t,e[t],r,0,n,s)},s},t.wrapProgram=p,t.resolvePartial=function(e,t,r){e?e.call||r.name||(r.name=e,e=r.partials[e]):e="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name];return e},t.invokePartial=function(e,t,r){var i=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var s=void 0;r.fn&&r.fn!==h&&function(){r.data=a.createFrame(r.data);var e=r.fn;s=r.data["partial-block"]=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=a.createFrame(r.data),r.data["partial-block"]=i,e(t,r)},e.partials&&(r.partials=n.extend({},r.partials,e.partials))}();void 0===e&&s&&(e=s);if(void 0===e)throw new o.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)},t.noop=h;var i,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(0)),s=r(1),o=(i=s)&&i.__esModule?i:{default:i},a=r(5),l=r(9),u=r(47),c=r(11);function p(e,t,r,i,n,s,o){function a(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o;return!o||t==o[0]||t===e.nullContext&&null===o[0]||(a=[t].concat(o)),r(e,t,e.helpers,e.partials,n.data||i,s&&[n.blockParams].concat(s),a)}return(a=f(r,a,e,o,i,s)).program=t,a.depth=o?o.length:0,a.blockParams=n||0,a}function h(){return""}function d(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}function f(e,t,r,i,s,o){if(e.decorator){var a={};t=e.decorator(t,a,r,i&&i[0],s,o,i),n.extend(t,a)}return t}},function(e,t,r){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){var r=arguments[arguments.length-1];return arguments[arguments.length-1]=t(r),e.apply(this,arguments)}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.parseWithoutProcessing=u,t.parse=function(e,t){var r=u(e,t);return new s.default(t).accept(r)};var n=i(r(49)),s=i(r(50)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(51)),a=r(0);t.parser=n.default;var l={};function u(e,t){return"Program"===e.type?e:(n.default.yy=l,l.locInfo=function(e){return new l.SourceLocation(t&&t.srcName,e)},n.default.parse(e))}a.extend(l,o)},function(e,t,r){"use strict";t.__esModule=!0;var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,r,i,n,s,o){var a=s.length-1;switch(n){case 1:return s[a-1];case 2:this.$=i.prepareProgram(s[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=s[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(s[a]),strip:i.stripFlags(s[a],s[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[a],value:s[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(s[a-2],s[a-1],s[a],this._$);break;case 12:this.$={path:s[a-3],params:s[a-2],hash:s[a-1]};break;case 13:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!1,this._$);break;case 14:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!0,this._$);break;case 15:this.$={open:s[a-5],path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 16:case 17:this.$={path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 18:this.$={strip:i.stripFlags(s[a-1],s[a-1]),program:s[a]};break;case 19:var l=i.prepareBlock(s[a-2],s[a-1],s[a],s[a],!1,this._$),u=i.prepareProgram([l],s[a-1].loc);u.chained=!0,this.$={strip:s[a-2].strip,program:u,chain:!0};break;case 20:this.$=s[a];break;case 21:this.$={path:s[a-1],strip:i.stripFlags(s[a-2],s[a])};break;case 22:case 23:this.$=i.prepareMustache(s[a-3],s[a-2],s[a-1],s[a-4],i.stripFlags(s[a-4],s[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[a-3],params:s[a-2],hash:s[a-1],indent:"",strip:i.stripFlags(s[a-4],s[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(s[a-2],s[a-1],s[a],this._$);break;case 26:this.$={path:s[a-3],params:s[a-2],hash:s[a-1],strip:i.stripFlags(s[a-4],s[a])};break;case 27:case 28:this.$=s[a];break;case 29:this.$={type:"SubExpression",path:s[a-3],params:s[a-2],hash:s[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(s[a-2]),value:s[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(s[a-1]);break;case 33:case 34:this.$=s[a];break;case 35:this.$={type:"StringLiteral",value:s[a],original:s[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[a]),original:Number(s[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[a],original:"true"===s[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=s[a];break;case 42:this.$=i.preparePath(!0,s[a],this._$);break;case 43:this.$=i.preparePath(!1,s[a],this._$);break;case 44:s[a-2].push({part:i.id(s[a]),original:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 45:this.$=[{part:i.id(s[a]),original:s[a]}];break;case 46:this.$=[];break;case 47:s[a-1].push(s[a]);break;case 48:this.$=[];break;case 49:s[a-1].push(s[a]);break;case 50:this.$=[];break;case 51:s[a-1].push(s[a]);break;case 58:this.$=[];break;case 59:s[a-1].push(s[a]);break;case 64:this.$=[];break;case 65:s[a-1].push(s[a]);break;case 70:this.$=[];break;case 71:s[a-1].push(s[a]);break;case 78:this.$=[];break;case 79:s[a-1].push(s[a]);break;case 82:this.$=[];break;case 83:s[a-1].push(s[a]);break;case 86:this.$=[];break;case 87:s[a-1].push(s[a]);break;case 90:this.$=[];break;case 91:s[a-1].push(s[a]);break;case 94:this.$=[];break;case 95:s[a-1].push(s[a]);break;case 98:this.$=[s[a]];break;case 99:s[a-1].push(s[a]);break;case 100:this.$=[s[a]];break;case 101:s[a-1].push(s[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,r=[0],i=[null],n=[],s=this.table,o="",a=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;n.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,d,f,m,v,g,y,_,w,b,k={};;){if(f=r[r.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==h&&(b=void 0,"number"!=typeof(b=t.lexer.lex()||1)&&(b=t.symbols_[b]||b),h=b),m=s[f]&&s[f][h]),void 0===m||!m.length||!m[0]){var x="";if(!u){for(g in w=[],s[f])this.terminals_[g]&&g>2&&w.push("'"+this.terminals_[g]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:c,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(m[0]){case 1:r.push(h),i.push(this.lexer.yytext),n.push(this.lexer.yylloc),r.push(m[1]),h=null,d?(h=d,d=null):(l=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[m[1]][1],k.$=i[i.length-y],k._$={first_line:n[n.length-(y||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(y||1)].first_column,last_column:n[n.length-1].last_column},p&&(k._$.range=[n[n.length-(y||1)].range[0],n[n.length-1].range[1]]),void 0!==(v=this.performAction.call(k,o,l,a,this.yy,m[1],i,n)))return v;y&&(r=r.slice(0,-1*y*2),i=i.slice(0,-1*y),n=n.slice(0,-1*y)),r.push(this.productions_[m[1]][0]),i.push(k.$),n.push(k._$),_=s[r[r.length-2]][r[r.length-1]],r.push(_);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===i.length?this.yylloc.first_column:0)+i[i.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,r,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(!(r=this._input.match(this.rules[s[o]]))||t&&!(r[0].length>t[0].length)||(t=r,i=o,this.options.flex));o++);return t?((n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,r,i){function n(e,r){return t.yytext=t.yytext.substring(e,t.yyleng-r+e)}switch(r){case 0:if("\\\\"===t.yytext.slice(-2)?(n(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(n(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(n(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function r(){this.yy={}}return e.lexer=t,r.prototype=e,e.Parser=r,new r}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i,n=r(14),s=(i=n)&&i.__esModule?i:{default:i};function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function a(e,t,r){void 0===t&&(t=e.length);var i=e[t-1],n=e[t-2];return i?"ContentStatement"===i.type?(n||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:r}function l(e,t,r){void 0===t&&(t=-1);var i=e[t+1],n=e[t+2];return i?"ContentStatement"===i.type?(n||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:r}function u(e,t,r){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(r||!i.rightStripped)){var n=i.value;i.value=i.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==n}}function c(e,t,r){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(r||!i.leftStripped)){var n=i.value;return i.value=i.value.replace(r?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==n,i.leftStripped}}o.prototype=new s.default,o.prototype.Program=function(e){var t=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,n=0,s=i.length;n<s;n++){var o=i[n],p=this.accept(o);if(p){var h=a(i,n,r),d=l(i,n,r),f=p.openStandalone&&h,m=p.closeStandalone&&d,v=p.inlineStandalone&&h&&d;p.close&&u(i,n,!0),p.open&&c(i,n,!0),t&&v&&(u(i,n),c(i,n)&&"PartialStatement"===o.type&&(o.indent=/([ \t]+$)/.exec(i[n-1].original)[1])),t&&f&&(u((o.program||o.inverse).body),c(i,n)),t&&m&&(u(i,n),c((o.inverse||o.program).body))}}return e},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,i=r,n=r;if(r&&r.chained)for(i=r.body[0].program;n.chained;)n=n.body[n.body.length-1].program;var s={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:a((i||t).body)};if(e.openStrip.close&&u(t.body,null,!0),r){var o=e.inverseStrip;o.open&&c(t.body,null,!0),o.close&&u(i.body,null,!0),e.closeStrip.open&&c(n.body,null,!0),!this.options.ignoreStandalone&&a(t.body)&&l(i.body)&&(c(t.body),u(i.body))}else e.closeStrip.open&&c(t.body,null,!0);return s},o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,r){r=this.locInfo(r);for(var i=e?"@":"",n=[],o=0,a=0,l=t.length;a<l;a++){var u=t[a].part,c=t[a].original!==u;if(i+=(t[a].separator||"")+u,c||".."!==u&&"."!==u&&"this"!==u)n.push(u);else{if(n.length>0)throw new s.default("Invalid path: "+i,{loc:r});".."===u&&o++}}return{type:"PathExpression",data:e,depth:o,parts:n,original:i,loc:r}},t.prepareMustache=function(e,t,r,i,n,s){var o=i.charAt(3)||i.charAt(2),a="{"!==o&&"&"!==o;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:a,strip:n,loc:this.locInfo(s)}},t.prepareRawBlock=function(e,t,r,i){o(e,r),i=this.locInfo(i);var n={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:n,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}},t.prepareBlock=function(e,t,r,i,n,a){i&&i.path&&o(e,i);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=void 0,c=void 0;if(r){if(l)throw new s.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=i.strip),c=r.strip,u=r.program}n&&(n=u,u=t,t=n);return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(a)}},t.prepareProgram=function(e,t){if(!t&&e.length){var r=e[0].loc,i=e[e.length-1].loc;r&&i&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,r,i){return o(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(i)}};var i,n=r(1),s=(i=n)&&i.__esModule?i:{default:i};function o(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var r={loc:e.path.loc};throw new s.default(e.path.original+" doesn't match "+t,r)}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Compiler=l,t.precompile=function(e,t,r){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new n.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var i=r.parse(e,t),s=(new r.Compiler).compile(i,t);return(new r.JavaScriptCompiler).compile(s,t)},t.compile=function(e,t,r){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new n.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=s.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var i=void 0;function o(){var i=r.parse(e,t),n=(new r.Compiler).compile(i,t),s=(new r.JavaScriptCompiler).compile(n,t,void 0,!0);return r.template(s)}function a(e,t){return i||(i=o()),i.call(this,e,t)}return a._setup=function(e){return i||(i=o()),i._setup(e)},a._child=function(e,t,r,n){return i||(i=o()),i._child(e,t,r,n)},a};var n=i(r(1)),s=r(0),o=i(r(13)),a=[].slice;function l(){}function u(e,t){if(e===t)return!0;if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!u(e[r],t[r]))return!1;return!0}}function c(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}l.prototype={compiler:l,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var r=0;r<t;r++){var i=this.opcodes[r],n=e.opcodes[r];if(i.opcode!==n.opcode||!u(i.args,n.args))return!1}t=this.children.length;for(r=0;r<t;r++)if(!this.children[r].equals(e.children[r]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=s.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[r]=t,this.useDepths=this.useDepths||t.useDepths,r},accept:function(e){if(!this[e.type])throw new n.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,r=t.length,i=0;i<r;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===r,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){c(e);var t=e.program,r=e.inverse;t=t&&this.compileProgram(t),r=r&&this.compileProgram(r);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,r):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,r),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),r=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",r.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var r=e.params;if(r.length>1)throw new n.default("Unsupported number of partial arguments: "+r.length,e);r.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):r.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,s="SubExpression"===e.name.type;s&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){c(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,r){var i=e.path,n=i.parts[0],s=null!=t||null!=r;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",r),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",n,s)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,r){var i=this.setupFullMustacheParams(e,t,r),s=e.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new n.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,o.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],r=o.default.helpers.scopedId(e),i=!e.depth&&!r&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,r):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,r=0,i=t.length;for(this.opcode("pushHash");r<i;r++)this.pushParam(t[r].value);for(;r--;)this.opcode("assignToHash",t[r].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=o.default.helpers.simpleId(e.path),r=t&&!!this.blockParamIndex(e.path.parts[0]),i=!r&&o.default.helpers.helperExpression(e),n=!r&&(i||t);if(n&&!i){var s=e.path.parts[0],a=this.options;a.knownHelpers[s]?i=!0:a.knownHelpersOnly&&(n=!1)}return i?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,r=e.length;t<r;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var r=void 0;if(!e.parts||o.default.helpers.scopedId(e)||e.depth||(r=this.blockParamIndex(e.parts[0])),r){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",r,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,r,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",r),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),n},blockParamIndex:function(e){for(var t=0,r=this.options.blockParams.length;t<r;t++){var i=this.options.blockParams[t],n=i&&s.indexOf(i,e);if(i&&n>=0)return[t,n]}}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(5),s=i(r(1)),o=r(0),a=i(r(54));function l(e){this.value=e}function u(){}u.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=n.COMPILER_REVISION;return[e,n.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,r){return o.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:r?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,r,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!r,this.context=r||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var n=e.opcodes,o=void 0,a=void 0,l=void 0,u=void 0;for(l=0,u=n.length;l<u;l++)o=n[l],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var p={compiler:this.compilerInfo(),main:c};this.decorators&&(p.main_d=this.decorators,p.useDecorators=!0);var h=this.context,d=h.programs,f=h.decorators;for(l=0,u=d.length;l<u;l++)d[l]&&(p[l]=d[l],f[l]&&(p[l+"_d"]=f[l],p.useDecorators=!0));return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),t.srcName?(p=p.toStringWithSourceMap({file:t.destName})).map=p.map&&p.map.toString():p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(e){var t=this,r="",i=this.stackVars.concat(this.registers.list);i.length>0&&(r+=", "+i.join(", "));var n=0;Object.keys(this.aliases).forEach((function(e){var i=t.aliases[e];i.children&&i.referenceCount>1&&(r+=", alias"+ ++n+"="+e,i.children[0]="alias"+n)})),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration());var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var o=this.mergeSource(r);return e?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])},mergeSource:function(e){var t=this.environment.isSimple,r=!this.forceBuffer,i=void 0,n=void 0,s=void 0,o=void 0;return this.source.each((function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,o=e):(s&&(n?s.prepend("buffer += "):i=!0,o.add(";"),s=o=void 0),n=!0,t||(r=!1))})),r?s?(s.prepend("return "),o.add(";")):n||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs(e,0,r);var i=this.popStack();r.splice(1,0,i),this.push(this.source.functionCall(t,"call",r))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var r=this.topStack();t.splice(1,0,r),this.pushSource(["if (!",this.lastHelper,") { ",r," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,r,i){var n=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[n++])),this.resolvePath("context",e,n,t,r)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,r){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,r)},resolvePath:function(e,t,r,i,n){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,r,i){var n=t.popStack(),s=0,o=r.length;e&&o--;for(;s<o;s++)n=t.nameLookup(n,r[s],i);return e?[t.aliasable("container.strict"),"(",n,", ",t.quotedString(r[s]),", ",JSON.stringify(t.source.currentLocation)," )"]:n}(this.options.strict&&n,this,t,e));else for(var o=t.length;r<o;r++)this.replaceStack((function(n){var o=s.nameLookup(n,t[r],e);return i?[" && ",o]:[" != null ? ",o," : ",n]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var r=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(r,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,r){var i=this.popStack(),n=this.setupHelper(e,t),s=[];r&&s.push(n.name),s.push(i),this.options.strict||s.push(this.aliasable("container.hooks.helperMissing"));var o=["(",this.itemsSeparatedBy(s,"||"),")"],a=this.source.functionCall(o,"call",n.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var r=[];r.push(e[0]);for(var i=1;i<e.length;i++)r.push(t,e[i]);return r},invokeKnownHelper:function(e,t){var r=this.setupHelper(e,t);this.push(this.source.functionCall(r.name,"call",r.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var r=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),n=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",r,")"];this.options.strict||(n[0]="(helper = ",n.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",n,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,r){var i=[],n=this.setupParams(t,1,i);e&&(t=this.popStack(),delete n.name),r&&(n.indent=JSON.stringify(r)),n.helpers="helpers",n.partials="partials",n.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(n.depths="depths"),n=this.objectLiteral(n),i.push(n),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),r=void 0,i=void 0,n=void 0;this.trackIds&&(n=this.popStack()),this.stringParams&&(i=this.popStack(),r=this.popStack());var s=this.hash;r&&(s.contexts[e]=r),i&&(s.types[e]=i),n&&(s.ids[e]=n),s.values[e]=t},pushId:function(e,t,r){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(r?" + "+JSON.stringify("."+r):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:u,compileChildren:function(e,t){for(var r=e.children,i=void 0,n=void 0,s=0,o=r.length;s<o;s++){i=r[s],n=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=n.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=n.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,r=this.context.environments.length;t<r;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],r=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths"),"container.program("+r.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],r=void 0,i=void 0,n=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof l)t=["(",r=[o.value]],n=!0;else{i=!0;var a=this.incrStack();t=["((",this.push(a)," = ",o,")"],r=this.topStack()}var u=e.call(this,r);n||this.popStack(),i&&this.stackSlot--,this.push(t.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,r=e.length;t<r;t++){var i=e[t];if(i instanceof l)this.compileStack.push(i);else{var n=this.incrStack();this.pushSource([n," = ",i,";"]),this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),r=(t?this.inlineStack:this.compileStack).pop();if(!e&&r instanceof l)return r.value;if(!t){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return r},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,r){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,r),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,r){var i={},n=[],s=[],o=[],a=!r,l=void 0;a&&(r=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(i.fn=c||"container.noop",i.inverse=u||"container.noop");for(var p=t;p--;)l=this.popStack(),r[p]=l,this.trackIds&&(o[p]=this.popStack()),this.stringParams&&(s[p]=this.popStack(),n[p]=this.popStack());return a&&(i.args=this.source.generateArray(r)),this.trackIds&&(i.ids=this.source.generateArray(o)),this.stringParams&&(i.types=this.source.generateArray(s),i.contexts=this.source.generateArray(n)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,r,i){var n=this.setupParams(e,t,r);return n.loc=JSON.stringify(this.source.currentLocation),n=this.objectLiteral(n),i?(this.useRegister("options"),r.push("options"),["options=",n]):r?(r.push(n),""):n}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=u.RESERVED_WORDS={},r=0,i=e.length;r<i;r++)t[e[r]]=!0}(),u.isValidJavaScriptVariableName=function(e){return!u.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=u,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var i=r(0),n=void 0;try{}catch(e){}function s(e,t,r){if(i.isArray(e)){for(var n=[],s=0,o=e.length;s<o;s++)n.push(t.wrap(e[s],r));return n}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}n||((n=function(e,t,r,i){this.src="",i&&this.add(i)}).prototype={add:function(e){i.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){i.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,r=this.source.length;t<r;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new n(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof n?e:(e=s(e,this,t),new n(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,r){return r=this.generateList(r),this.wrap([e,t?"."+t+"(":"(",r,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,r=[];Object.keys(e).forEach((function(i){var n=s(e[i],t);"undefined"!==n&&r.push([t.quotedString(i),":",n])}));var i=this.generateList(r);return i.prepend("{"),i.add("}"),i},generateList:function(e){for(var t=this.empty(),r=0,i=e.length;r<i;r++)r&&t.add(","),t.add(s(e[r],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default},function(e,t,r){"use strict";r.r(t);var i=r(15),n=r.n(i);const s={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>s.android()||s.blackberry()||s.ios()||s.opera()||s.windows()};var o=s;function a(){(function(e,t=document){return[...t.querySelectorAll(e)]})("[target='_blank']").forEach(e=>e.setAttribute("rel","noopener"))}var l={parseTrack:function(e){return console.log(e),e.name.split("(feat")[0]+" by "+e.artists[0].name}},u={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},c=e=>e.map(e=>(void 0===e[1]&&e.push(null),void 0===e[2]&&e.push({}),e)),p=(e,t)=>Object.assign({},e,t),h=e=>Array.isArray(e),d=(e,t)=>(e[2]=p(e[2],t)||t,e),f=(e,t)=>h(e[0])?e.map(e=>d(e,t)):d(e,t),m=(e,t,r,i)=>{i=i||!1,r=r||{};var n=!h(e),s=e.length;return(e=n?new Array(e).fill(0):e).map((e,o)=>{if(n)return t;var a=[t,e,r];return i&&(0===o&&(a=f(a,{isFirst:!0})),o+1===s&&(a=f(a,{isLast:!0}))),a})};function v(e){this.insert=function(e,r){t.splice(e,0,r)},this.add=function(e,i,n){return e=h(e)?e:[e,null],n=n||!1,i=i||1,h(e[0])||(e=m(i,e)),e=c(e).map(e=>(e[2]=p(e[2],{id:r}),r++,e)),t=n?e.concat(t):t.concat(e),this},this.set=function(e,r){t[e]=r},this.reset=function(){t=t.map(e=>(e[2].executed=!1,e))},this.getItems=function(){return(t=c(t)).filter(e=>!e[2].executed)},this.setMeta=function(e,r){var i=t.findIndex(t=>t[2].id===e);t[i][2]=p(t[i][2],r)};var t=[],r=0;this.add(e)}var g=e=>Array.from(e),y=e=>{var t=[];return t.concat.apply(t,e)},_=e=>{var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body},w=(e,t,r)=>{t=t||null,r=void 0!==r&&r;var i=g(e.childNodes).map(e=>{return 3===(t=e).nodeType||"BR"===t.tagName?e:w(e);var t});return i=y(i),t&&(i=i.filter(e=>!t.contains(e))),r?i.reverse():i},b=e=>"BODY"===e.tagName,k=(e,t)=>{t=t||null;var r=e instanceof HTMLElement;return{node:t,isTopLevelText:(!t||b(t.parentNode))&&!r,isHTMLElement:r,content:e}};function x(e){var t,r=_(e);return t=w(r).map(e=>e.nodeValue?g(e.nodeValue).map(t=>k(t,e)):k(e)),y(t)}function T(e,t){return(t=void 0===t||t)?x(e):g(e).map(e=>k(e))}var S=e=>document.createElement(e),P=(e,t)=>{var r=S("style");r.id=t||"",r.appendChild(document.createTextNode(e)),document.head.appendChild(r)},A=e=>(h(e)||(e=[e/2,e/2]),{before:e[0],after:e[1],total:e[0]+e[1]}),E=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t)),C=e=>["textarea","input"].indexOf(e.tagName.toLowerCase())>-1,M=(e,t)=>{var r=t.querySelectorAll("*");return[t].concat(g(r).reverse()).find(t=>t.cloneNode().outerHTML===e.outerHTML)},O=(e,t,r,i)=>{r=r||null;var n=t.isHTMLElement,s=n?t.content:document.createTextNode(t.content);if(C(e))e.value="".concat(e.value).concat(t.content);else{if(!t.isTopLevelText&&!n){var o=t.node.parentNode,a=M(o.cloneNode(),e);if(((e,t)=>{if(!e)return!1;var r=e.nextSibling;return!r||r.isEqualNode(t)})(a,r))e=a;else if((s=o.cloneNode()).innerText=t.content,!b(o.parentNode)){for(var l=o.parentNode,u=l.cloneNode(),c=M(u,e);!c&&!b(l);)u.innerHTML=s.outerHTML,s=u,u=l.parentNode.cloneNode(),l=l.parentNode,c=M(u,e);e=c||e}}var p=w(e,r,!0)[i-1],h=p?p.parentNode:e;h.insertBefore(s,h.contains(r)?r:null)}},L=e=>{var t;return null==e||null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)},I=(e,t,r)=>{var i,n="string"==typeof e,s=!1,o=-1*e;return n&&(o=(i="END"===e.toUpperCase())?-1:1,s=i?t+o>0:t+o<r.length),{isString:n,numberOfSteps:o,canKeepMoving:s}};function D(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function N(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function j(){}function H(e,t){if(!t)return e&&e.then?e.then(j):Promise.resolve()}function B(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function R(e,t,r){if(!e.s){if(r instanceof $){if(!r.s)return void(r.o=R.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(R.bind(null,e,t),R.bind(null,e,2));e.s=t,e.v=r;var i=e.o;i&&i(e)}}var $=function(){function e(){}return e.prototype.then=function(t,r){var i=new e,n=this.s;if(n){var s=1&n?t:r;if(s){try{R(i,1,s(this.v))}catch(e){R(i,2,e)}return i}return this}return this.o=function(e){try{var n=e.v;1&e.s?R(i,1,t?t(n):n):r?R(i,1,r(n)):R(i,2,n)}catch(e){R(i,2,e)}},i},e}();function F(e,t){return e&&e.then?e.then(t):t(e)}var z=function(e,t){var r=this;t=t||{};var i=(e,t,r)=>(e=h(e[0])?e:[e],ne.add(e,t),(e=>{var t=(e=e||{}).delay;t&&ne.add([y,t])})(r),this),n=e=>[[z,e="object"==typeof e?e:{},{force:!0}],[z,Z,{force:!0}]],s=()=>U?g(W.value):w(W,se,!0),o=(e,t)=>{t=t||1;var r=Z.nextStringDelay;ne.insert(e,[y,r.before]),ne.insert(e+t+1,[y,r.after])},a=N((function(){if(se){var e="[data-typeit-id='".concat(ie,"'] .ti-cursor");P("@keyframes blink-".concat(ie," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ").concat(e," { animation: blink-").concat(ie," ").concat(Z.cursorSpeed/1e3,"s infinite; } ").concat(e,".with-delay { animation-delay: 500ms; } ").concat(e,".disabled { animation: none; }"),ie),W.appendChild(se);var t="loaded"===document.fonts.status;return D(t||document.fonts.ready,(function(e){var t=se.getBoundingClientRect().width/2;se.style.margin="0 -".concat(t+2,"px 0 -").concat(t-2,"px")}),t)}})),l=e=>{se&&(se.classList.toggle("disabled",e),se.classList.toggle("with-delay",!e))},c=N((function(e,t){return Y.push(setTimeout(e,t)),D()})),d=N((function(e){var t=X;return D(t&&b(X),(function(t){return ne.reset(),ne.set(0,[y,e.before]),H(G(!0))}),!t)})),f=N((function(){J.started=!0;var e,t=ne.getItems();return F(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return F(function(e,t,r){var i,n,s=-1;return function r(o){try{for(;++s<e.length;)if((o=t(s))&&o.then){if(!((a=o)instanceof $&&1&a.s))return void o.then(r,n||(n=R.bind(null,i=new $,2)));o=o.v}i?R(i,1,o):i=o}catch(e){R(i||(i=new $),2,e)}var a}(),i}(t,(function(i){if(J.frozen||J.destroyed)throw"";var n,s,o,a,u=t[i],c=u[2];return e=[u,r],c.freezeCursor&&l(!0),n=Z.speed,s=Z.deleteSpeed,o=Z.lifeLike,a=(s=null!==s?s:n/3)/2,Q=o?[E(n,n/2),E(s,a)]:[n,s],B((function(){var t;if(null==c?void 0:c.isFirst)return H((t=Z).beforeString.apply(t,e))}),(function(){var t;return D((t=Z).beforeStep.apply(t,e),(function(){return D(u[0].call(r,u[1],c),(function(){return B((function(){var t,r;if(null===(t=u[2])||void 0===t?void 0:t.isLast)return H((r=Z).afterString.apply(r,e))}),(function(){var t;return D((t=Z).afterStep.apply(t,e),(function(){ne.setMeta(c.id,{executed:!0}),l(!1)}))}))}))}))}))})),(function(t){var r;return J.completed=!0,D((r=Z).afterComplete.apply(r,e),(function(){if(!Z.loop)throw"";var e=Z.loopDelay;c((function(){return D(d(e),(function(){f()}))}),e.after)}))}))}),j),(function(e){return r}))})),y=e=>new Promise(t=>{c(()=>t(),e||0)}),b=e=>{var t=s(),r=I(e,X,t);return X+=r.numberOfSteps,new Promise(e=>{c(N((function(){return((e,t,r,i)=>{if(r){var n=i,s=t[(n=n>t.length?t.length:n)-1];(e=s?s.parentNode:e).insertBefore(r,s||null)}})(W,s(),se,X),B((function(){if(r.isString&&r.canKeepMoving)return H(b(r.numberOfSteps>0?"START":"END"))}),(function(){return e()}))})),Q[0])})},M=e=>new Promise(t=>{c(()=>(O(W,e,se,X),t()),Q[0])}),z=N((function(e){Z=p(Z,e)})),V=N((function(){U?W.value="":s().forEach(e=>{L(e)})})),G=e=>(e=!0===e,new Promise(t=>{c(N((function(){var r=!1,i=s();return i.length&&(U?W.value=W.value.slice(0,-1):L(i[X])),g(W.querySelectorAll("*")).forEach(e=>{if(!e.innerHTML&&"BR"!==e.tagName){for(var t=e;1===t.parentNode.childNodes.length&&t.parentNode.childNodes[0].isEqualNode(t);)t=t.parentNode;L(t)}}),B((function(){if(e&&i.length-1>0)return D(G(!0),(function(){return r=!0,t()}))}),(function(e){return r?e:t()}))})),Q[1])}));this.break=function(e){return i([M,k(S("BR"))],1,e)},this.delete=function(e,t){var r=n(t);return i([r[0]].concat([].concat(Array(Math.abs(e)||1)).fill().map(()=>[G,!e,K]),[r[1]]),1,t)},this.empty=function(){return i(V,1,arguments)},this.exec=function(e,t){var r=n(t);return i([r[0],[e,null],r[1]],1,t)},this.move=function(e,t){var r=I(e,X,s()),o=n(t),a=r.isString?e:Math.sign(e);return i([o[0]].concat([].concat(Array(Math.abs(e)||1)).fill().map(()=>[b,a,K]),[o[1]]),1,t)},this.options=function(e){return i([z,e],1,e)},this.pause=function(e,t){return i([y,e],1,t)},this.type=function(e,t){var r=n(t),s=T(e,Z.html),o=[r[0]].concat(m(s,M,K,!0),[r[1]]);return i(o,1,t)},this.is=function(e){return J[e]},this.destroy=function(e){e=void 0===e||e,Y.forEach(e=>{clearTimeout(e)}),Y=[],e&&L(se),J.destroyed=!0},this.freeze=function(){J.frozen=!0},this.unfreeze=function(){J.frozen=!1,f()},this.reset=function(){for(var e in!this.is("destroyed")&&this.destroy(),ne.reset(),X=0,J)J[e]=!1;return U?W.value="":W.innerHTML="",this},this.go=function(){return J.started?this:(a(),Z.waitUntilVisible?(((e,t)=>{new IntersectionObserver((r,i)=>{r.forEach(r=>{r.isIntersecting&&(t(),i.unobserve(e))})},{threshold:1}).observe(e)})(W,f.bind(this)),this):(f(),this))},this.getQueue=function(){return ne},this.getOptions=function(){return Z},this.getElement=function(){return W};var q,W="string"==typeof(q=e)?document.querySelector(q):q,U=C(W),Q=[],Y=[],X=0,K={freezeCursor:!0},J={started:!1,completed:!1,frozen:!1,destroyed:!1},Z=p(u,t);Z=p(Z,{html:!U&&Z.html,nextStringDelay:A(Z.nextStringDelay),loopDelay:A(Z.loopDelay)});var ee,te,re,ie=Math.random().toString().substring(2,9),ne=new v([y,Z.startDelay]);W.setAttribute("data-typeit-id",ie),P("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}[data-typeit-id]"),Z.strings=(re=Z.strings,ee=h(re)?re:[re],(te=W.innerHTML.replace(/<\!--.*?-->/g,"").trim())?(W.innerHTML="",Z.startDelete?(x(te).forEach(e=>{O(W,e,se,X)}),ne.add([G,!0]),o(1),ee):[te.trim()].concat(ee)):ee);var se=(()=>{if(U||!Z.cursor)return null;var e=S("span");return e.innerHTML=_(Z.cursorChar).innerHTML,e.className="ti-cursor",e.style.cssText="display:inline;".concat((e=>{var t,r=["font","lineHeight","color"],i=S("SPAN"),n=(t=e,window.getComputedStyle(t,null));for(var s in n)r.indexOf(s)>-1&&n[s]&&(i.style[s]=n[s]);return i.style.cssText})(W)),e})();Z.strings.length&&(()=>{var e=Z.strings.filter(e=>!!e);e.forEach((t,r)=>{var i=T(t,Z.html);ne.add(m(i,M,K,!0));var n=ne.getItems().length;if(r+1!==e.length){if(Z.breakLines){var s=k(S("BR"));return ne.add([M,s,K]),void o(n)}ne.add(m(i,G,K)),o(n,t.length)}})})()};var V={typeOut:function(e,t,r){return new Promise((function(i){let n=!1;0==d3.select(t).selectAll("p").size()&&(n=!0);let s=d3.select(t).append("p").classed("first-row",(function(e,t){return!!n}));new z(s.node(),{speed:20,cursorChar:"█",cursorSpeed:0,afterComplete:async(e,t)=>{setTimeout((function(){t.destroy(),i()}),500)}}).pause(0).type(e,{delay:r}).go()}))},addLine:function(e,t,r){return new Promise((function(i){d3.select(t).append("p").text(e).style("opacity",0).transition().duration(150).delay(500).style("opacity",1);setTimeout((function(e){i()}),r)}))},sleepDelay:function(e){return new Promise((function(t){setTimeout((function(e){t()}),e)}))},appendAscii:function(e,t,r){return new Promise((function(i){d3.select(t).append("pre").html(e);console.log(e),setTimeout((function(e){i()}),r)}))},specialScore:function(e,t,r,i){let n="spotify";return"apple"==e&&(n="apple music"),new Promise((function(e){let i=d3.select(r).append("p").attr("class","special-score");new z(i.node(),{speed:20,cursorChar:"█",cursorSpeed:0,afterComplete:async(t,r)=>{setTimeout((function(){r.destroy(),e()}),500)}}).pause(0).type(`> Your ${n} was pretty good.`,{speed:20,delay:1500}).type(" jk",{speed:100,delay:2e3}).delete(-15,{speed:150,delay:1e3}).type("bad.",{speed:200,delay:2e3}).move(-4,{speed:200,delay:0}).type(" ",{speed:200,delay:0}).move(-1,{speed:20,delay:0}).type(""+t,{speed:100,delay:500}).move("END",{speed:50,delay:2e3}).go()}))}};var G={get:function(e){const t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),r=new RegExp(`[\\?&]${t}=([^&#]*)`).exec(window.location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},set:function(e,t){const r=[window.location.protocol,"//",window.location.host,window.location.pathname].join(""),i=document.location.search,n=`${e}=${t}`;let s="?"+n;if(i){const r=new RegExp(`([?&])${e}[^&]*`),o=new RegExp(`([?&])${e}=[^&;]+[&;]?`);null==t||""===t?(s=i.replace(o,"$1"),s=s.replace(/[&;]$/,"")):s=null!==i.match(r)?i.replace(r,"$1"+n):`${i}&${n}`}s="?"===s?"":s,window.history.replaceState({},"",`${r}${s}`)}},q=new(r(16));let W=[],U=[],Q=[],Y=null,X={long_term:"all time",medium_term:"last 6 months",short_term:"last 4 weeks"};function K(e,t,r){let i=e.body.items,n=d3.select(t).append("div").style("order",(function(e){return Object.keys(X).indexOf(r)}));n.append("p").attr("class","column-label").text(X[r]),n.append("div").selectAll("div").data(i).enter().append("p").html((function(e){return".tracks"==t?e.name+"<span>"+e.artists[0].name+"</span>":e.name}))}function J(e,t){return q.getMyTopTracks({time_range:e,limit:50}).then((function(r){let i=r.body.items;return U.push({timeFrame:e,trackData:i}),K(r,t,e),r})).catch((function(e){throw e}))}function Z(e,t){return q.getMyTopArtists({time_range:e,limit:50}).then((function(r){let i=r.body.items;return Q.push({timeFrame:e,artistData:i}),W=W.concat(r.body.items.map((function(e){return e.genres}))),K(r,t,e),"done"})).catch((function(e){throw e}))}function ee(){return new Promise((function(e,t){e(d3.groups(W.flat(1),(function(e){return e})).sort((function(e,t){return t[1].length-e[1].length})))}))}function te(e){return new Promise((function(t){let r=0,i=5e3;!function n(){console.log("looping"),Z(e,".artists").then((function(e){t(e)})).catch((function(e){if(429==e.status){let t=+e.header["retry-after"];i+=Math.max(i,1e3*t)}else i*=2;V.typeOut(`I'll try again in ${i/1e3} seconds`,".chat-wrapper",500),window.setTimeout((function(){r+=1,r<6&&n()}),i)}))}()}))}function re(e){return new Promise((function(t){let r=0,i=5e3;!function n(){J(e,".tracks").then((function(e){t(e)})).catch((function(e){if(429==e.status){let t=+e.header["retry-after"];i+=Math.max(i,1e3*t)}else i*=2;V.typeOut(`I'll try again in ${i/1e3} seconds`,".chat-wrapper",500),window.setTimeout((function(){r+=1,r<6&&n()}),1e3*i)}))}()}))}function ie(e){return q.getArtists(e).then((function(e){return e})).catch((function(e){throw e}))}function ne(e){let t=0,r=5e3;return new Promise((function(i){!function n(){ie(e).then((function(e){i(e)})).catch((function(e){if(429==e.status){let t=+e.header["retry-after"];r+=Math.max(r,1e3*t)}else r*=2;V.typeOut(`I'll try again in ${r/1e3} seconds`,".chat-wrapper",500),window.setTimeout((function(){t+=1,t<6&&n()}),1e3*r)}))}()}))}var se={init:async function(e){q.setAccessToken(e),Y=e,V.typeOut("Loading your music library...Spotify limiting how many people can use this app at once, so you'll need to wait or try again later.",".chat-wrapper",500),G.set("access_token",null),G.set("refresh_token",null),await te("long_term"),await te("medium_term");let t=[await ee(),Q.flat(1)],r=(await re("long_term"),await re("medium_term"),U.flat(1));console.log(r);let i=await d3.group(t[1].map((function(e){return e.artistData})).flat(1),e=>e.id);return r=await async function(e,t){let r=[];for(var i in e)for(var n in e[i].trackData){e[i].trackData[n].artistGenres=[];let o=[];for(var s in e[i].trackData[n].artists){let a=e[i].trackData[n].artists[s].id;if(t.has(a)){let e=t.get(a);o.push(e[0].genres)}else r.push(a)}e[i].trackData[n].artistGenres=o.flat(1)}r=d3.groups(r,(function(e){return e})).map((function(e){return e[0]}));for(var o=[];r.length>0;)o.push(r.splice(0,50));let a=[];if(o.length>0){let e=await ne(o[0]);a.push(e)}if(o.length>1){let e=await ne(o[1]);console.log(e),a.push(e)}if(o.length>2){let e=await ne(o[2]);console.log(e),a.push(e)}a=a.map((function(e){return e.body.artists})).flat(1);let l=await d3.group(a,e=>e.id);for(var i in e)for(var n in e[i].trackData){let t=e[i].trackData[n].artistGenres;for(var s in e[i].trackData[n].artists){let o=e[i].trackData[n].artists[s].id;if(l.has(o)){let e=l.get(o);t.push(e[0].genres)}else r.push(o)}e[i].trackData[n].artistGenres=t.flat(1)}return e}(r,i),{genres:t[0],artists:t[1],tracks:r,playlists:[[],[]]}},resize:function(){},getArtistsAlbums:function(e){return q.getArtistAlbums(e).then((function(e){return e}),(function(e){console.log(e)}))}};function oe(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function ae(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(r){void 0===e[r]?e[r]=t[r]:oe(t[r])&&oe(e[r])&&Object.keys(t[r]).length>0&&ae(e[r],t[r])}))}var le={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ue(){var e="undefined"!=typeof document?document:{};return ae(e,le),e}var ce={document:le,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function pe(){var e="undefined"!=typeof window?window:{};return ae(e,ce),e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function me(e,t,r){return(me=fe()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&de(n,r.prototype),n}).apply(null,arguments)}function ve(e){var t="function"==typeof Map?new Map:void 0;return(ve=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return me(e,arguments,he(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),de(i,e)})(e)}var ge=function(e){var t,r;function i(t){var r,i,n;return r=e.call.apply(e,[this].concat(t))||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),n=i.__proto__,Object.defineProperty(i,"__proto__",{get:function(){return n},set:function(e){n.__proto__=e}}),r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(ve(Array));function ye(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,ye(e)):t.push(e)})),t}function _e(e,t){return Array.prototype.filter.call(e,t)}function we(e,t){var r=pe(),i=ue(),n=[];if(!t&&e instanceof ge)return e;if(!e)return new ge(n);if("string"==typeof e){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var a=i.createElement(o);a.innerHTML=s;for(var l=0;l<a.childNodes.length;l+=1)n.push(a.childNodes[l])}else n=function(e,t){if("string"!=typeof e)return[e];for(var r=[],i=t.querySelectorAll(e),n=0;n<i.length;n+=1)r.push(i[n]);return r}(e.trim(),t||i)}else if(e.nodeType||e===r||e===i)n.push(e);else if(Array.isArray(e)){if(e instanceof ge)return e;n=e}return new ge(function(e){for(var t=[],r=0;r<e.length;r+=1)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(n))}we.fn=ge.prototype;var be="resize scroll".split(" ");function ke(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(void 0===r[0]){for(var n=0;n<this.length;n+=1)be.indexOf(e)<0&&(e in this[n]?this[n][e]():we(this[n]).trigger(e));return this}return this.on.apply(this,[e].concat(r))}}ke("click"),ke("blur"),ke("focus"),ke("focusin"),ke("focusout"),ke("keyup"),ke("keydown"),ke("keypress"),ke("submit"),ke("change"),ke("mousedown"),ke("mousemove"),ke("mouseup"),ke("mouseenter"),ke("mouseleave"),ke("mouseout"),ke("mouseover"),ke("touchstart"),ke("touchend"),ke("touchmove"),ke("resize"),ke("scroll");var xe={addClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=ye(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,i)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=ye(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,i)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=ye(t.map((function(e){return e.split(" ")})));return _e(this,(function(e){return i.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=ye(t.map((function(e){return e.split(" ")})));this.forEach((function(e){i.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var r=0;r<this.length;r+=1)if(2===arguments.length)this[r].setAttribute(e,t);else for(var i in e)this[r][i]=e[i],this[r].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],n=t[1],s=t[2],o=t[3];function a(e){var t=e.target;if(t){var r=e.target.dom7EventData||[];if(r.indexOf(e)<0&&r.unshift(e),we(t).is(n))s.apply(t,r);else for(var i=we(t).parents(),o=0;o<i.length;o+=1)we(i[o]).is(n)&&s.apply(i[o],r)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"==typeof t[1]&&(i=t[0],s=t[1],o=t[2],n=void 0),o||(o=!1);for(var u,c=i.split(" "),p=0;p<this.length;p+=1){var h=this[p];if(n)for(u=0;u<c.length;u+=1){var d=c[u];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[d]||(h.dom7LiveListeners[d]=[]),h.dom7LiveListeners[d].push({listener:s,proxyListener:a}),h.addEventListener(d,a,o)}else for(u=0;u<c.length;u+=1){var f=c[u];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[f]||(h.dom7Listeners[f]=[]),h.dom7Listeners[f].push({listener:s,proxyListener:l}),h.addEventListener(f,l,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],n=t[1],s=t[2],o=t[3];"function"==typeof t[1]&&(i=t[0],s=t[1],o=t[2],n=void 0),o||(o=!1);for(var a=i.split(" "),l=0;l<a.length;l+=1)for(var u=a[l],c=0;c<this.length;c+=1){var p=this[c],h=void 0;if(!n&&p.dom7Listeners?h=p.dom7Listeners[u]:n&&p.dom7LiveListeners&&(h=p.dom7LiveListeners[u]),h&&h.length)for(var d=h.length-1;d>=0;d-=1){var f=h[d];s&&f.listener===s||s&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===s?(p.removeEventListener(u,f.proxyListener,o),h.splice(d,1)):s||(p.removeEventListener(u,f.proxyListener,o),h.splice(d,1))}}return this},trigger:function(){for(var e=pe(),t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var n=r[0].split(" "),s=r[1],o=0;o<n.length;o+=1)for(var a=n[o],l=0;l<this.length;l+=1){var u=this[l];if(e.CustomEvent){var c=new e.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0});u.dom7EventData=r.filter((function(e,t){return t>0})),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function r(i){i.target===this&&(e.call(this,i),t.off("transitionend",r))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=pe();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=pe(),t=ue(),r=this[0],i=r.getBoundingClientRect(),n=t.body,s=r.clientTop||n.clientTop||0,o=r.clientLeft||n.clientLeft||0,a=r===e?e.scrollY:r.scrollTop,l=r===e?e.scrollX:r.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}return null},css:function(e,t){var r,i=pe();if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r+=1)for(var n in e)this[r].style[n]=e[n];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,r){e.apply(t,[t,r])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,r,i=pe(),n=ue(),s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=we(e),r=0;r<t.length;r+=1)if(t[r]===s)return!0;return!1}if(e===n)return s===n;if(e===i)return s===i;if(e.nodeType||e instanceof ge){for(t=e.nodeType?[e]:e,r=0;r<t.length;r+=1)if(t[r]===s)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return we([]);if(e<0){var r=t+e;return we(r<0?[]:[this[r]])}return we([this[e]])},append:function(){for(var e,t=ue(),r=0;r<arguments.length;r+=1){e=r<0||arguments.length<=r?void 0:arguments[r];for(var i=0;i<this.length;i+=1)if("string"==typeof e){var n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)this[i].appendChild(n.firstChild)}else if(e instanceof ge)for(var s=0;s<e.length;s+=1)this[i].appendChild(e[s]);else this[i].appendChild(e)}return this},prepend:function(e){var t,r,i=ue();for(t=0;t<this.length;t+=1)if("string"==typeof e){var n=i.createElement("div");for(n.innerHTML=e,r=n.childNodes.length-1;r>=0;r-=1)this[t].insertBefore(n.childNodes[r],this[t].childNodes[0])}else if(e instanceof ge)for(r=0;r<e.length;r+=1)this[t].insertBefore(e[r],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&we(this[0].nextElementSibling).is(e)?we([this[0].nextElementSibling]):we([]):this[0].nextElementSibling?we([this[0].nextElementSibling]):we([]):we([])},nextAll:function(e){var t=[],r=this[0];if(!r)return we([]);for(;r.nextElementSibling;){var i=r.nextElementSibling;e?we(i).is(e)&&t.push(i):t.push(i),r=i}return we(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&we(t.previousElementSibling).is(e)?we([t.previousElementSibling]):we([]):t.previousElementSibling?we([t.previousElementSibling]):we([])}return we([])},prevAll:function(e){var t=[],r=this[0];if(!r)return we([]);for(;r.previousElementSibling;){var i=r.previousElementSibling;e?we(i).is(e)&&t.push(i):t.push(i),r=i}return we(t)},parent:function(e){for(var t=[],r=0;r<this.length;r+=1)null!==this[r].parentNode&&(e?we(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode));return we(t)},parents:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var i=this[r].parentNode;i;)e?we(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return we(t)},closest:function(e){var t=this;return void 0===e?we([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var i=this[r].querySelectorAll(e),n=0;n<i.length;n+=1)t.push(i[n]);return we(t)},children:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var i=this[r].children,n=0;n<i.length;n+=1)e&&!we(i[n]).is(e)||t.push(i[n]);return we(t)},filter:function(e){return we(_e(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(xe).forEach((function(e){we.fn[e]=xe[e]}));var Te,Se,Pe,Ae=we;function Ee(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Ce(){return Date.now()}function Me(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function Oe(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t+=1){var r=t<0||arguments.length<=t?void 0:arguments[t];if(null!=r)for(var i=Object.keys(Object(r)),n=0,s=i.length;n<s;n+=1){var o=i[n],a=Object.getOwnPropertyDescriptor(r,o);void 0!==a&&a.enumerable&&(Me(e[o])&&Me(r[o])?Oe(e[o],r[o]):!Me(e[o])&&Me(r[o])?(e[o]={},Oe(e[o],r[o])):e[o]=r[o])}}return e}function Le(){return Te||(Te=function(){var e=pe(),t=ue();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,r)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),Te}function Ie(e){return void 0===e&&(e={}),Se||(Se=function(e){var t=(void 0===e?{}:e).userAgent,r=Le(),i=pe(),n=i.navigator.platform,s=t||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/),c=s.match(/(iPad).*OS\s([\d_]+)/),p=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===n,f="MacIntel"===n;return!c&&f&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(a+"x"+l)>=0&&((c=s.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),f=!1),u&&!d&&(o.os="android",o.android=!0),(c||h||p)&&(o.os="ios",o.ios=!0),o}(e)),Se}function De(){return Pe||(Pe=function(){var e,t=pe();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),Pe}var Ne={name:"resize",create:function(){var e=this;Oe(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=pe();t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler)},destroy:function(e){var t=pe();t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var He={attach:function(e,t){void 0===t&&(t={});var r=pe(),i=this,n=new(r.MutationObserver||r.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i.emit("observerUpdate",e[0])};r.requestAnimationFrame?r.requestAnimationFrame(t):r.setTimeout(t,0)}else i.emit("observerUpdate",e[0])}));n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.observer.observers.push(n)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},Be={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){var e,t;e=this,t={observer:je(je({},He),{},{observers:[]})},Object.keys(t).forEach((function(r){Me(t[r])&&Object.keys(t[r]).forEach((function(i){"function"==typeof t[r][i]&&(t[r][i]=t[r][i].bind(e))})),e[r]=t[r]}))},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function Re(e){var t=ue(),r=pe(),i=this.touchEventsData,n=this.params,s=this.touches;if(!this.animating||!n.preventInteractionOnTransition){var o=e;o.originalEvent&&(o=o.originalEvent);var a=Ae(o.target);if("wrapper"!==n.touchEventsTarget||a.closest(this.wrapperEl).length)if(i.isTouchEvent="touchstart"===o.type,i.isTouchEvent||!("which"in o)||3!==o.which)if(!(!i.isTouchEvent&&"button"in o&&o.button>0))if(!i.isTouched||!i.isMoved)if(!!n.noSwipingClass&&""!==n.noSwipingClass&&o.target&&o.target.shadowRoot&&e.path&&e.path[0]&&(a=Ae(e.path[0])),n.noSwiping&&a.closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])this.allowClick=!0;else if(!n.swipeHandler||a.closest(n.swipeHandler)[0]){s.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,s.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var l=s.currentX,u=s.currentY,c=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,p=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(!c||!(l<=p||l>=r.screen.width-p)){if(Oe(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=l,s.startY=u,i.touchStartTime=Ce(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,n.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==o.type){var h=!0;a.is(i.formElements)&&(h=!1),t.activeElement&&Ae(t.activeElement).is(i.formElements)&&t.activeElement!==a[0]&&t.activeElement.blur();var d=h&&this.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||d)&&o.preventDefault()}this.emit("touchStart",o)}}}}function $e(e){var t=ue(),r=this.touchEventsData,i=this.params,n=this.touches,s=this.rtlTranslate,o=e;if(o.originalEvent&&(o=o.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===o.type){var a="touchmove"===o.type&&o.targetTouches&&(o.targetTouches[0]||o.changedTouches[0]),l="touchmove"===o.type?a.pageX:o.pageX,u="touchmove"===o.type?a.pageY:o.pageY;if(o.preventedByNestedSwiper)return n.startX=l,void(n.startY=u);if(!this.allowTouchMove)return this.allowClick=!1,void(r.isTouched&&(Oe(n,{startX:l,startY:u,currentX:l,currentY:u}),r.touchStartTime=Ce()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(this.isVertical()){if(u<n.startY&&this.translate<=this.maxTranslate()||u>n.startY&&this.translate>=this.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(l<n.startX&&this.translate<=this.maxTranslate()||l>n.startX&&this.translate>=this.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&o.target===t.activeElement&&Ae(o.target).is(r.formElements))return r.isMoved=!0,void(this.allowClick=!1);if(r.allowTouchCallbacks&&this.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){n.currentX=l,n.currentY=u;var c=n.currentX-n.startX,p=n.currentY-n.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(c,2)+Math.pow(p,2))<this.params.threshold)){var h;if(void 0===r.isScrolling)this.isHorizontal()&&n.currentY===n.startY||this.isVertical()&&n.currentX===n.startX?r.isScrolling=!1:c*c+p*p>=25&&(h=180*Math.atan2(Math.abs(p),Math.abs(c))/Math.PI,r.isScrolling=this.isHorizontal()?h>i.touchAngle:90-h>i.touchAngle);if(r.isScrolling&&this.emit("touchMoveOpposite",o),void 0===r.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){this.allowClick=!1,!i.cssMode&&o.cancelable&&o.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&o.stopPropagation(),r.isMoved||(i.loop&&this.loopFix(),r.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",o)),this.emit("sliderMove",o),r.isMoved=!0;var d=this.isHorizontal()?c:p;n.diff=d,d*=i.touchRatio,s&&(d=-d),this.swipeDirection=d>0?"prev":"next",r.currentTranslate=d+r.startTranslate;var f=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),d>0&&r.currentTranslate>this.minTranslate()?(f=!1,i.resistance&&(r.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+r.startTranslate+d,m))):d<0&&r.currentTranslate<this.maxTranslate()&&(f=!1,i.resistance&&(r.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-r.startTranslate-d,m))),f&&(o.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(d)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,r.currentTranslate=r.startTranslate,void(n.diff=this.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}i.followFinger&&!i.cssMode&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),i.freeMode&&(0===r.velocities.length&&r.velocities.push({position:n[this.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:n[this.isHorizontal()?"currentX":"currentY"],time:Ce()})),this.updateProgress(r.currentTranslate),this.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&this.emit("touchMoveOpposite",o)}function Fe(e){var t=this,r=t.touchEventsData,i=t.params,n=t.touches,s=t.rtlTranslate,o=t.$wrapperEl,a=t.slidesGrid,l=t.snapGrid,u=e;if(u.originalEvent&&(u=u.originalEvent),r.allowTouchCallbacks&&t.emit("touchEnd",u),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&i.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);i.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,p=Ce(),h=p-r.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(u),t.emit("tap click",u),h<300&&p-r.lastClickTime<300&&t.emit("doubleTap doubleClick",u)),r.lastClickTime=Ce(),Ee((function(){t.destroyed||(t.allowClick=!0)})),!r.isTouched||!r.isMoved||!t.swipeDirection||0===n.diff||r.currentTranslate===r.startTranslate)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,c=i.followFinger?s?t.translate:-t.translate:-r.currentTranslate,!i.cssMode)if(i.freeMode){if(c<-t.minTranslate())return void t.slideTo(t.activeIndex);if(c>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(r.velocities.length>1){var d=r.velocities.pop(),f=r.velocities.pop(),m=d.position-f.position,v=d.time-f.time;t.velocity=m/v,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(v>150||Ce()-d.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,r.velocities.length=0;var g=1e3*i.freeModeMomentumRatio,y=t.velocity*g,_=t.translate+y;s&&(_=-_);var w,b,k=!1,x=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(_<t.maxTranslate())i.freeModeMomentumBounce?(_+t.maxTranslate()<-x&&(_=t.maxTranslate()-x),w=t.maxTranslate(),k=!0,r.allowMomentumBounce=!0):_=t.maxTranslate(),i.loop&&i.centeredSlides&&(b=!0);else if(_>t.minTranslate())i.freeModeMomentumBounce?(_-t.minTranslate()>x&&(_=t.minTranslate()+x),w=t.minTranslate(),k=!0,r.allowMomentumBounce=!0):_=t.minTranslate(),i.loop&&i.centeredSlides&&(b=!0);else if(i.freeModeSticky){for(var T,S=0;S<l.length;S+=1)if(l[S]>-_){T=S;break}_=-(_=Math.abs(l[T]-_)<Math.abs(l[T-1]-_)||"next"===t.swipeDirection?l[T]:l[T-1])}if(b&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(g=s?Math.abs((-_-t.translate)/t.velocity):Math.abs((_-t.translate)/t.velocity),i.freeModeSticky){var P=Math.abs((s?-_:_)-t.translate),A=t.slidesSizesGrid[t.activeIndex];g=P<A?i.speed:P<2*A?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&k?(t.updateProgress(w),t.setTransition(g),t.setTranslate(_),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&r.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(i.speed),setTimeout((function(){t.setTranslate(w),o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(_),t.setTransition(g),t.setTranslate(_),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(_),t.updateActiveIndex(),t.updateSlidesClasses()}else if(i.freeModeSticky)return void t.slideToClosest();(!i.freeModeMomentum||h>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var E=0,C=t.slidesSizesGrid[0],M=0;M<a.length;M+=M<i.slidesPerGroupSkip?1:i.slidesPerGroup){var O=M<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==a[M+O]?c>=a[M]&&c<a[M+O]&&(E=M,C=a[M+O]-a[M]):c>=a[M]&&(E=M,C=a[a.length-1]-a[a.length-2])}var L=(c-a[E])/C,I=E<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(L>=i.longSwipesRatio?t.slideTo(E+I):t.slideTo(E)),"prev"===t.swipeDirection&&(L>1-i.longSwipesRatio?t.slideTo(E+I):t.slideTo(E))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(u.target===t.navigation.nextEl||u.target===t.navigation.prevEl)?u.target===t.navigation.nextEl?t.slideTo(E+I):t.slideTo(E):("next"===t.swipeDirection&&t.slideTo(E+I),"prev"===t.swipeDirection&&t.slideTo(E))}}}function ze(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var r=this.allowSlideNext,i=this.allowSlidePrev,n=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=i,this.allowSlideNext=r,this.params.watchOverflow&&n!==this.snapGrid&&this.checkOverflow()}}function Ve(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function Ge(){var e=this.wrapperEl,t=this.rtlTranslate;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:this.translate=-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var r=this.maxTranslate()-this.minTranslate();(0===r?0:(this.translate-this.minTranslate())/r)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var qe=!1;function We(){}var Ue={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Qe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ye={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(r){var i=t.modules[r];i.params&&Oe(e,i.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(r){var i=t.modules[r],n=e[r]||{};i.on&&t.on&&Object.keys(i.on).forEach((function(e){t.on(e,i.on[e])})),i.create&&i.create.bind(t)(n)}))}},eventsEmitter:{on:function(e,t,r){var i=this;if("function"!=typeof t)return i;var n=r?"unshift":"push";return e.split(" ").forEach((function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][n](t)})),i},once:function(e,t,r){var i=this;if("function"!=typeof t)return i;function n(){i.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];t.apply(i,s)}return n.__emitterProxy=t,i.on(e,n,r)},onAny:function(e,t){if("function"!=typeof e)return this;var r=t?"unshift":"push";return this.eventsAnyListeners.indexOf(e)<0&&this.eventsAnyListeners[r](e),this},offAny:function(e){if(!this.eventsAnyListeners)return this;var t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off:function(e,t){var r=this;return r.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(i,n){(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&r.eventsListeners[e].splice(n,1)}))})),r):r},emit:function(){var e,t,r,i=this;if(!i.eventsListeners)return i;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),r=i):(e=s[0].events,t=s[0].data,r=s[0].context||i),t.unshift(r);var a=Array.isArray(e)?e:e.split(" ");return a.forEach((function(e){if(i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach((function(i){i.apply(r,[e].concat(t))})),i.eventsListeners&&i.eventsListeners[e]){var n=[];i.eventsListeners[e].forEach((function(e){n.push(e)})),n.forEach((function(e){e.apply(r,t)}))}})),i}},update:{updateSize:function(){var e,t,r=this.$el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:r[0].clientWidth,t=void 0!==this.params.height&&null!==this.params.width?this.params.height:r[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Oe(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=pe(),t=this.params,r=this.$wrapperEl,i=this.size,n=this.rtlTranslate,s=this.wrongRTL,o=this.virtual&&t.virtual.enabled,a=o?this.virtual.slides.length:this.slides.length,l=r.children("."+this.params.slideClass),u=o?this.virtual.slides.length:l.length,c=[],p=[],h=[];function d(e,r){return!t.cssMode||r!==l.length-1}var f=t.slidesOffsetBefore;"function"==typeof f&&(f=t.slidesOffsetBefore.call(this));var m=t.slidesOffsetAfter;"function"==typeof m&&(m=t.slidesOffsetAfter.call(this));var v=this.snapGrid.length,g=this.snapGrid.length,y=t.spaceBetween,_=-f,w=0,b=0;if(void 0!==i){var k,x;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),this.virtualSize=-y,n?l.css({marginLeft:"",marginTop:""}):l.css({marginRight:"",marginBottom:""}),t.slidesPerColumn>1&&(k=Math.floor(u/t.slidesPerColumn)===u/this.params.slidesPerColumn?u:Math.ceil(u/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(k=Math.max(k,t.slidesPerView*t.slidesPerColumn)));for(var T,S=t.slidesPerColumn,P=k/S,A=Math.floor(u/t.slidesPerColumn),E=0;E<u;E+=1){x=0;var C=l.eq(E);if(t.slidesPerColumn>1){var M=void 0,O=void 0,L=void 0;if("row"===t.slidesPerColumnFill&&t.slidesPerGroup>1){var I=Math.floor(E/(t.slidesPerGroup*t.slidesPerColumn)),D=E-t.slidesPerColumn*t.slidesPerGroup*I,N=0===I?t.slidesPerGroup:Math.min(Math.ceil((u-I*S*t.slidesPerGroup)/S),t.slidesPerGroup);M=(O=D-(L=Math.floor(D/N))*N+I*t.slidesPerGroup)+L*k/S,C.css({"-webkit-box-ordinal-group":M,"-moz-box-ordinal-group":M,"-ms-flex-order":M,"-webkit-order":M,order:M})}else"column"===t.slidesPerColumnFill?(L=E-(O=Math.floor(E/S))*S,(O>A||O===A&&L===S-1)&&(L+=1)>=S&&(L=0,O+=1)):O=E-(L=Math.floor(E/P))*P;C.css("margin-"+(this.isHorizontal()?"top":"left"),0!==L&&t.spaceBetween&&t.spaceBetween+"px")}if("none"!==C.css("display")){if("auto"===t.slidesPerView){var j=e.getComputedStyle(C[0],null),H=C[0].style.transform,B=C[0].style.webkitTransform;if(H&&(C[0].style.transform="none"),B&&(C[0].style.webkitTransform="none"),t.roundLengths)x=this.isHorizontal()?C.outerWidth(!0):C.outerHeight(!0);else if(this.isHorizontal()){var R=parseFloat(j.getPropertyValue("width")||0),$=parseFloat(j.getPropertyValue("padding-left")||0),F=parseFloat(j.getPropertyValue("padding-right")||0),z=parseFloat(j.getPropertyValue("margin-left")||0),V=parseFloat(j.getPropertyValue("margin-right")||0),G=j.getPropertyValue("box-sizing");if(G&&"border-box"===G)x=R+z+V;else{var q=C[0],W=q.clientWidth;x=R+$+F+z+V+(q.offsetWidth-W)}}else{var U=parseFloat(j.getPropertyValue("height")||0),Q=parseFloat(j.getPropertyValue("padding-top")||0),Y=parseFloat(j.getPropertyValue("padding-bottom")||0),X=parseFloat(j.getPropertyValue("margin-top")||0),K=parseFloat(j.getPropertyValue("margin-bottom")||0),J=j.getPropertyValue("box-sizing");if(J&&"border-box"===J)x=U+X+K;else{var Z=C[0],ee=Z.clientHeight;x=U+Q+Y+X+K+(Z.offsetHeight-ee)}}H&&(C[0].style.transform=H),B&&(C[0].style.webkitTransform=B),t.roundLengths&&(x=Math.floor(x))}else x=(i-(t.slidesPerView-1)*y)/t.slidesPerView,t.roundLengths&&(x=Math.floor(x)),l[E]&&(this.isHorizontal()?l[E].style.width=x+"px":l[E].style.height=x+"px");l[E]&&(l[E].swiperSlideSize=x),h.push(x),t.centeredSlides?(_=_+x/2+w/2+y,0===w&&0!==E&&(_=_-i/2-y),0===E&&(_=_-i/2-y),Math.abs(_)<.001&&(_=0),t.roundLengths&&(_=Math.floor(_)),b%t.slidesPerGroup==0&&c.push(_),p.push(_)):(t.roundLengths&&(_=Math.floor(_)),(b-Math.min(this.params.slidesPerGroupSkip,b))%this.params.slidesPerGroup==0&&c.push(_),p.push(_),_=_+x+y),this.virtualSize+=x+y,w=x,b+=1}}if(this.virtualSize=Math.max(this.virtualSize,i)+m,n&&s&&("slide"===t.effect||"coverflow"===t.effect)&&r.css({width:this.virtualSize+t.spaceBetween+"px"}),t.setWrapperSize&&(this.isHorizontal()?r.css({width:this.virtualSize+t.spaceBetween+"px"}):r.css({height:this.virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(this.virtualSize=(x+t.spaceBetween)*k,this.virtualSize=Math.ceil(this.virtualSize/t.slidesPerColumn)-t.spaceBetween,this.isHorizontal()?r.css({width:this.virtualSize+t.spaceBetween+"px"}):r.css({height:this.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){T=[];for(var te=0;te<c.length;te+=1){var re=c[te];t.roundLengths&&(re=Math.floor(re)),c[te]<this.virtualSize+c[0]&&T.push(re)}c=T}if(!t.centeredSlides){T=[];for(var ie=0;ie<c.length;ie+=1){var ne=c[ie];t.roundLengths&&(ne=Math.floor(ne)),c[ie]<=this.virtualSize-i&&T.push(ne)}c=T,Math.floor(this.virtualSize-i)-Math.floor(c[c.length-1])>1&&c.push(this.virtualSize-i)}if(0===c.length&&(c=[0]),0!==t.spaceBetween&&(this.isHorizontal()?n?l.filter(d).css({marginLeft:y+"px"}):l.filter(d).css({marginRight:y+"px"}):l.filter(d).css({marginBottom:y+"px"})),t.centeredSlides&&t.centeredSlidesBounds){var se=0;h.forEach((function(e){se+=e+(t.spaceBetween?t.spaceBetween:0)}));var oe=(se-=t.spaceBetween)-i;c=c.map((function(e){return e<0?-f:e>oe?oe+m:e}))}if(t.centerInsufficientSlides){var ae=0;if(h.forEach((function(e){ae+=e+(t.spaceBetween?t.spaceBetween:0)})),(ae-=t.spaceBetween)<i){var le=(i-ae)/2;c.forEach((function(e,t){c[t]=e-le})),p.forEach((function(e,t){p[t]=e+le}))}}Oe(this,{slides:l,snapGrid:c,slidesGrid:p,slidesSizesGrid:h}),u!==a&&this.emit("slidesLengthChange"),c.length!==v&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),p.length!==g&&this.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(e){var t,r=[],i=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var n=this.activeIndex+t;if(n>this.slides.length)break;r.push(this.slides.eq(n)[0])}else r.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var s=r[t].offsetHeight;i=s>i?s:i}i&&this.$wrapperEl.css("height",i+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this.params,r=this.slides,i=this.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&this.updateSlidesOffset();var n=-e;i&&(n=e),r.removeClass(t.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var s=0;s<r.length;s+=1){var o=r[s],a=(n+(t.centeredSlides?this.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var l=-(n-o.swiperSlideOffset),u=l+this.slidesSizesGrid[s];(l>=0&&l<this.size-1||u>1&&u<=this.size||l<=0&&u>=this.size)&&(this.visibleSlides.push(o),this.visibleSlidesIndexes.push(s),r.eq(s).addClass(t.slideVisibleClass))}o.progress=i?-a:a}this.visibleSlides=Ae(this.visibleSlides)}},updateProgress:function(e){if(void 0===e){var t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}var r=this.params,i=this.maxTranslate()-this.minTranslate(),n=this.progress,s=this.isBeginning,o=this.isEnd,a=s,l=o;0===i?(n=0,s=!0,o=!0):(s=(n=(e-this.minTranslate())/i)<=0,o=n>=1),Oe(this,{progress:n,isBeginning:s,isEnd:o}),(r.watchSlidesProgress||r.watchSlidesVisibility||r.centeredSlides&&r.autoHeight)&&this.updateSlidesProgress(e),s&&!a&&this.emit("reachBeginning toEdge"),o&&!l&&this.emit("reachEnd toEdge"),(a&&!s||l&&!o)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var e,t=this.slides,r=this.params,i=this.$wrapperEl,n=this.activeIndex,s=this.realIndex,o=this.virtual&&r.virtual.enabled;t.removeClass(r.slideActiveClass+" "+r.slideNextClass+" "+r.slidePrevClass+" "+r.slideDuplicateActiveClass+" "+r.slideDuplicateNextClass+" "+r.slideDuplicatePrevClass),(e=o?this.$wrapperEl.find("."+r.slideClass+'[data-swiper-slide-index="'+n+'"]'):t.eq(n)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(r.slideDuplicateActiveClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(r.slideDuplicateActiveClass));var a=e.nextAll("."+r.slideClass).eq(0).addClass(r.slideNextClass);r.loop&&0===a.length&&(a=t.eq(0)).addClass(r.slideNextClass);var l=e.prevAll("."+r.slideClass).eq(0).addClass(r.slidePrevClass);r.loop&&0===l.length&&(l=t.eq(-1)).addClass(r.slidePrevClass),r.loop&&(a.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass),l.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var t,r=this.rtlTranslate?this.translate:-this.translate,i=this.slidesGrid,n=this.snapGrid,s=this.params,o=this.activeIndex,a=this.realIndex,l=this.snapIndex,u=e;if(void 0===u){for(var c=0;c<i.length;c+=1)void 0!==i[c+1]?r>=i[c]&&r<i[c+1]-(i[c+1]-i[c])/2?u=c:r>=i[c]&&r<i[c+1]&&(u=c+1):r>=i[c]&&(u=c);s.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(n.indexOf(r)>=0)t=n.indexOf(r);else{var p=Math.min(s.slidesPerGroupSkip,u);t=p+Math.floor((u-p)/s.slidesPerGroup)}if(t>=n.length&&(t=n.length-1),u!==o){var h=parseInt(this.slides.eq(u).attr("data-swiper-slide-index")||u,10);Oe(this,{snapIndex:t,realIndex:h,previousIndex:o,activeIndex:u}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),a!==h&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else t!==l&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this.params,r=Ae(e.target).closest("."+t.slideClass)[0],i=!1;if(r)for(var n=0;n<this.slides.length;n+=1)this.slides[n]===r&&(i=!0);if(!r||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(Ae(r).attr("data-swiper-slide-index"),10):this.clickedIndex=Ae(r).index(),t.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,r=this.rtlTranslate,i=this.translate,n=this.$wrapperEl;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;var s=function(e,t){void 0===t&&(t="x");var r,i,n,s=pe(),o=s.getComputedStyle(e,null);return s.WebKitCSSMatrix?((i=o.transform||o.webkitTransform).split(",").length>6&&(i=i.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):r=(n=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}(n[0],e);return r&&(s=-s),s||0},setTranslate:function(e,t){var r=this.rtlTranslate,i=this.params,n=this.$wrapperEl,s=this.wrapperEl,o=this.progress,a=0,l=0;this.isHorizontal()?a=r?-e:e:l=e,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),i.cssMode?s[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-a:-l:i.virtualTranslate||n.transform("translate3d("+a+"px, "+l+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?a:l;var u=this.maxTranslate()-this.minTranslate();(0===u?0:(e-this.minTranslate())/u)!==o&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,r,i,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),void 0===i&&(i=!0);var s=this,o=s.params,a=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var l,u=s.minTranslate(),c=s.maxTranslate();if(l=i&&e>u?u:i&&e<c?c:e,s.updateProgress(l),o.cssMode){var p,h=s.isHorizontal();if(0===t)a[h?"scrollLeft":"scrollTop"]=-l;else if(a.scrollTo)a.scrollTo(((p={})[h?"left":"top"]=-l,p.behavior="smooth",p));else a[h?"scrollLeft":"scrollTop"]=-l;return!0}return 0===t?(s.setTransition(0),s.setTranslate(l),r&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(l),r&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,r&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var r=this.activeIndex,i=this.params,n=this.previousIndex;if(!i.cssMode){i.autoHeight&&this.updateAutoHeight();var s=t;if(s||(s=r>n?"next":r<n?"prev":"reset"),this.emit("transitionStart"),e&&r!==n){if("reset"===s)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===s?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var r=this.activeIndex,i=this.previousIndex,n=this.params;if(this.animating=!1,!n.cssMode){this.setTransition(0);var s=t;if(s||(s=r>i?"next":r<i?"prev":"reset"),this.emit("transitionEnd"),e&&r!==i){if("reset"===s)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===s?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var n=parseInt(e,10);if(!isFinite(n))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=n}var s=this,o=e;o<0&&(o=0);var a=s.params,l=s.snapGrid,u=s.slidesGrid,c=s.previousIndex,p=s.activeIndex,h=s.rtlTranslate,d=s.wrapperEl;if(s.animating&&a.preventInteractionOnTransition)return!1;var f=Math.min(s.params.slidesPerGroupSkip,o),m=f+Math.floor((o-f)/s.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(p||a.initialSlide||0)===(c||0)&&r&&s.emit("beforeSlideChangeStart");var v,g=-l[m];if(s.updateProgress(g),a.normalizeSlideIndex)for(var y=0;y<u.length;y+=1)-Math.floor(100*g)>=Math.floor(100*u[y])&&(o=y);if(s.initialized&&o!==p){if(!s.allowSlideNext&&g<s.translate&&g<s.minTranslate())return!1;if(!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(p||0)!==o)return!1}if(v=o>p?"next":o<p?"prev":"reset",h&&-g===s.translate||!h&&g===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(g),"reset"!==v&&(s.transitionStart(r,v),s.transitionEnd(r,v)),!1;if(a.cssMode){var _,w=s.isHorizontal(),b=-g;if(h&&(b=d.scrollWidth-d.offsetWidth-b),0===t)d[w?"scrollLeft":"scrollTop"]=b;else if(d.scrollTo)d.scrollTo(((_={})[w?"left":"top"]=b,_.behavior="smooth",_));else d[w?"scrollLeft":"scrollTop"]=b;return!0}return 0===t?(s.setTransition(0),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(r,v),s.transitionEnd(r,v)):(s.setTransition(t),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(r,v),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(r,v))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0);var n=e;return this.params.loop&&(n+=this.loopedSlides),this.slideTo(n,t,r,i)},slideNext:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this.params,n=this.animating,s=this.activeIndex<i.slidesPerGroupSkip?1:i.slidesPerGroup;if(i.loop){if(n&&i.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+s,e,t,r)},slidePrev:function(e,t,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this.params,n=this.animating,s=this.snapGrid,o=this.slidesGrid,a=this.rtlTranslate;if(i.loop){if(n&&i.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function l(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var u,c=l(a?this.translate:-this.translate),p=s.map((function(e){return l(e)})),h=(s[p.indexOf(c)],s[p.indexOf(c)-1]);return void 0===h&&i.cssMode&&s.forEach((function(e){!h&&c>=e&&(h=e)})),void 0!==h&&(u=o.indexOf(h))<0&&(u=this.activeIndex-1),this.slideTo(u,e,t,r)},slideReset:function(e,t,r){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,r)},slideToClosest:function(e,t,r,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);var n=this.activeIndex,s=Math.min(this.params.slidesPerGroupSkip,n),o=s+Math.floor((n-s)/this.params.slidesPerGroup),a=this.rtlTranslate?this.translate:-this.translate;if(a>=this.snapGrid[o]){var l=this.snapGrid[o];a-l>(this.snapGrid[o+1]-l)*i&&(n+=this.params.slidesPerGroup)}else{var u=this.snapGrid[o-1];a-u<=(this.snapGrid[o]-u)*i&&(n-=this.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,this.slidesGrid.length-1),this.slideTo(n,e,t,r)},slideToClickedSlide:function(){var e,t=this,r=t.params,i=t.$wrapperEl,n="auto"===r.slidesPerView?t.slidesPerViewDynamic():r.slidesPerView,s=t.clickedIndex;if(r.loop){if(t.animating)return;e=parseInt(Ae(t.clickedSlide).attr("data-swiper-slide-index"),10),r.centeredSlides?s<t.loopedSlides-n/2||s>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),s=i.children("."+r.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+r.slideDuplicateClass+")").eq(0).index(),Ee((function(){t.slideTo(s)}))):t.slideTo(s):s>t.slides.length-n?(t.loopFix(),s=i.children("."+r.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+r.slideDuplicateClass+")").eq(0).index(),Ee((function(){t.slideTo(s)}))):t.slideTo(s)}else t.slideTo(s)}},loop:{loopCreate:function(){var e=this,t=ue(),r=e.params,i=e.$wrapperEl;i.children("."+r.slideClass+"."+r.slideDuplicateClass).remove();var n=i.children("."+r.slideClass);if(r.loopFillGroupWithBlank){var s=r.slidesPerGroup-n.length%r.slidesPerGroup;if(s!==r.slidesPerGroup){for(var o=0;o<s;o+=1){var a=Ae(t.createElement("div")).addClass(r.slideClass+" "+r.slideBlankClass);i.append(a)}n=i.children("."+r.slideClass)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=n.length),e.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),e.loopedSlides+=r.loopAdditionalSlides,e.loopedSlides>n.length&&(e.loopedSlides=n.length);var l=[],u=[];n.each((function(t,r){var i=Ae(t);r<e.loopedSlides&&u.push(t),r<n.length&&r>=n.length-e.loopedSlides&&l.push(t),i.attr("data-swiper-slide-index",r)}));for(var c=0;c<u.length;c+=1)i.append(Ae(u[c].cloneNode(!0)).addClass(r.slideDuplicateClass));for(var p=l.length-1;p>=0;p-=1)i.prepend(Ae(l[p].cloneNode(!0)).addClass(r.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,r=this.slides,i=this.loopedSlides,n=this.allowSlidePrev,s=this.allowSlideNext,o=this.snapGrid,a=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var l=-o[t]-this.getTranslate();if(t<i)e=r.length-3*i+t,e+=i,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((a?-this.translate:this.translate)-l);else if(t>=r.length-i){e=-r.length+t+i,e+=i,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((a?-this.translate:this.translate)-l)}this.allowSlidePrev=n,this.allowSlideNext=s,this.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,r=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),r.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this.$wrapperEl,r=this.params;if(r.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&t.append(e[i]);else t.append(e);r.loop&&this.loopCreate(),r.observer&&this.support.observer||this.update()},prependSlide:function(e){var t=this.params,r=this.$wrapperEl,i=this.activeIndex;t.loop&&this.loopDestroy();var n=i+1;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)e[s]&&r.prepend(e[s]);n=i+e.length}else r.prepend(e);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),this.slideTo(n,0,!1)},addSlide:function(e,t){var r=this.$wrapperEl,i=this.params,n=this.activeIndex;i.loop&&(n-=this.loopedSlides,this.loopDestroy(),this.slides=r.children("."+i.slideClass));var s=this.slides.length;if(e<=0)this.prependSlide(t);else if(e>=s)this.appendSlide(t);else{for(var o=n>e?n+1:n,a=[],l=s-1;l>=e;l-=1){var u=this.slides.eq(l);u.remove(),a.unshift(u)}if("object"==typeof t&&"length"in t){for(var c=0;c<t.length;c+=1)t[c]&&r.append(t[c]);o=n>e?n+t.length:n}else r.append(t);for(var p=0;p<a.length;p+=1)r.append(a[p]);i.loop&&this.loopCreate(),i.observer&&this.support.observer||this.update(),i.loop?this.slideTo(o+this.loopedSlides,0,!1):this.slideTo(o,0,!1)}},removeSlide:function(e){var t=this.params,r=this.$wrapperEl,i=this.activeIndex;t.loop&&(i-=this.loopedSlides,this.loopDestroy(),this.slides=r.children("."+t.slideClass));var n,s=i;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)n=e[o],this.slides[n]&&this.slides.eq(n).remove(),n<s&&(s-=1);s=Math.max(s,0)}else n=e,this.slides[n]&&this.slides.eq(n).remove(),n<s&&(s-=1),s=Math.max(s,0);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),t.loop?this.slideTo(s+this.loopedSlides,0,!1):this.slideTo(s,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=ue(),t=this.params,r=this.touchEvents,i=this.el,n=this.wrapperEl,s=this.device,o=this.support;this.onTouchStart=Re.bind(this),this.onTouchMove=$e.bind(this),this.onTouchEnd=Fe.bind(this),t.cssMode&&(this.onScroll=Ge.bind(this)),this.onClick=Ve.bind(this);var a=!!t.nested;if(!o.touch&&o.pointerEvents)i.addEventListener(r.start,this.onTouchStart,!1),e.addEventListener(r.move,this.onTouchMove,a),e.addEventListener(r.end,this.onTouchEnd,!1);else{if(o.touch){var l=!("touchstart"!==r.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(r.start,this.onTouchStart,l),i.addEventListener(r.move,this.onTouchMove,o.passiveListener?{passive:!1,capture:a}:a),i.addEventListener(r.end,this.onTouchEnd,l),r.cancel&&i.addEventListener(r.cancel,this.onTouchEnd,l),qe||(e.addEventListener("touchstart",We),qe=!0)}(t.simulateTouch&&!s.ios&&!s.android||t.simulateTouch&&!o.touch&&s.ios)&&(i.addEventListener("mousedown",this.onTouchStart,!1),e.addEventListener("mousemove",this.onTouchMove,a),e.addEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&i.addEventListener("click",this.onClick,!0),t.cssMode&&n.addEventListener("scroll",this.onScroll),t.updateOnWindowResize?this.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",ze,!0):this.on("observerUpdate",ze,!0)},detachEvents:function(){var e=ue(),t=this.params,r=this.touchEvents,i=this.el,n=this.wrapperEl,s=this.device,o=this.support,a=!!t.nested;if(!o.touch&&o.pointerEvents)i.removeEventListener(r.start,this.onTouchStart,!1),e.removeEventListener(r.move,this.onTouchMove,a),e.removeEventListener(r.end,this.onTouchEnd,!1);else{if(o.touch){var l=!("onTouchStart"!==r.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(r.start,this.onTouchStart,l),i.removeEventListener(r.move,this.onTouchMove,a),i.removeEventListener(r.end,this.onTouchEnd,l),r.cancel&&i.removeEventListener(r.cancel,this.onTouchEnd,l)}(t.simulateTouch&&!s.ios&&!s.android||t.simulateTouch&&!o.touch&&s.ios)&&(i.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,a),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&i.removeEventListener("click",this.onClick,!0),t.cssMode&&n.removeEventListener("scroll",this.onScroll),this.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",ze)}},breakpoints:{setBreakpoint:function(){var e=this.activeIndex,t=this.initialized,r=this.loopedSlides,i=void 0===r?0:r,n=this.params,s=this.$el,o=n.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var a=this.getBreakpoint(o);if(a&&this.currentBreakpoint!==a){var l=a in o?o[a]:void 0;l&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=l[e];void 0!==t&&(l[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var u=l||this.originalParams,c=n.slidesPerColumn>1,p=u.slidesPerColumn>1;c&&!p?(s.removeClass(n.containerModifierClass+"multirow "+n.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!c&&p&&(s.addClass(n.containerModifierClass+"multirow"),"column"===u.slidesPerColumnFill&&s.addClass(n.containerModifierClass+"multirow-column"),this.emitContainerClasses());var h=u.direction&&u.direction!==n.direction,d=n.loop&&(u.slidesPerView!==n.slidesPerView||h);h&&t&&this.changeDirection(),Oe(this.params,u),Oe(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=a,this.emit("_beforeBreakpoint",u),d&&t&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-i+this.loopedSlides,0,!1)),this.emit("breakpoint",u)}}},getBreakpoint:function(e){var t=pe();if(e){var r=!1,i=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var r=parseFloat(e.substr(1));return{value:t.innerHeight*r,point:e}}return{value:e,point:e}}));i.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var n=0;n<i.length;n+=1){var s=i[n],o=s.point;s.value<=t.innerWidth&&(r=o)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,r=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;e.slidesOffsetBefore&&e.slidesOffsetAfter&&r?this.isLocked=r<=this.size:this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,r=this.rtl,i=this.$el,n=this.device,s=[];s.push("initialized"),s.push(t.direction),t.freeMode&&s.push("free-mode"),t.autoHeight&&s.push("autoheight"),r&&s.push("rtl"),t.slidesPerColumn>1&&(s.push("multirow"),"column"===t.slidesPerColumnFill&&s.push("multirow-column")),n.android&&s.push("android"),n.ios&&s.push("ios"),t.cssMode&&s.push("css-mode"),s.forEach((function(r){e.push(t.containerModifierClass+r)})),i.addClass(e.join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,r,i,n,s){var o,a=pe();function l(){s&&s()}Ae(e).parent("picture")[0]||e.complete&&n?l():t?((o=new a.Image).onload=l,o.onerror=l,i&&(o.sizes=i),r&&(o.srcset=r),t&&(o.src=t)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var r=0;r<e.imagesToLoad.length;r+=1){var i=e.imagesToLoad[r];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},Xe={},Ke=function(){function e(){for(var t,r,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];1===n.length&&n[0].constructor&&n[0].constructor===Object?r=n[0]:(t=n[0],r=n[1]),r||(r={}),r=Oe({},r),t&&!r.el&&(r.el=t);var o=this;o.support=Le(),o.device=Ie({userAgent:r.userAgent}),o.browser=De(),o.eventsListeners={},o.eventsAnyListeners=[],void 0===o.modules&&(o.modules={}),Object.keys(o.modules).forEach((function(e){var t=o.modules[e];if(t.params){var i=Object.keys(t.params)[0],n=t.params[i];if("object"!=typeof n||null===n)return;if(!(i in r)||!("enabled"in n))return;!0===r[i]&&(r[i]={enabled:!0}),"object"!=typeof r[i]||"enabled"in r[i]||(r[i].enabled=!0),r[i]||(r[i]={enabled:!1})}}));var a=Oe({},Ue);o.useParams(a),o.params=Oe({},a,Xe,r),o.originalParams=Oe({},o.params),o.passedParams=Oe({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach((function(e){o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=Ae;var l=Ae(o.params.el);if(t=l[0]){if(l.length>1){var u=[];return l.each((function(t){var i=Oe({},r,{el:t});u.push(new e(i))})),u}var c,p,h;return t.swiper=o,t&&t.shadowRoot&&t.shadowRoot.querySelector?(c=Ae(t.shadowRoot.querySelector("."+o.params.wrapperClass))).children=function(e){return l.children(e)}:c=l.children("."+o.params.wrapperClass),Oe(o,{$el:l,el:t,$wrapperEl:c,wrapperEl:c[0],classNames:[],slides:Ae(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===o.params.direction},isVertical:function(){return"vertical"===o.params.direction},rtl:"rtl"===t.dir.toLowerCase()||"rtl"===l.css("direction"),rtlTranslate:"horizontal"===o.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===l.css("direction")),wrongRTL:"-webkit-box"===c.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:(p=["touchstart","touchmove","touchend","touchcancel"],h=["mousedown","mousemove","mouseup"],o.support.pointerEvents&&(h=["pointerdown","pointermove","pointerup"]),o.touchEventsTouch={start:p[0],move:p[1],end:p[2],cancel:p[3]},o.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:Ce(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.useModules(),o.emit("_swiper"),o.params.init&&o.init(),o}}var t,r,i,n=e.prototype;return n.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},n.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},n.emitSlidesClasses=function(){var e=this;e.params._emitClasses&&e.el&&e.slides.each((function(t){var r=e.getSlideClasses(t);e.emit("_slideClass",t,r)}))},n.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,r=this.slidesGrid,i=this.size,n=this.activeIndex,s=1;if(e.centeredSlides){for(var o,a=t[n].swiperSlideSize,l=n+1;l<t.length;l+=1)t[l]&&!o&&(s+=1,(a+=t[l].swiperSlideSize)>i&&(o=!0));for(var u=n-1;u>=0;u-=1)t[u]&&!o&&(s+=1,(a+=t[u].swiperSlideSize)>i&&(o=!0))}else for(var c=n+1;c<t.length;c+=1)r[c]-r[n]<i&&(s+=1);return s},n.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,r=e.params;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(i(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||i(),r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function i(){var t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}},n.changeDirection=function(e,t){void 0===t&&(t=!0);var r=this.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(this.$el.removeClass(""+this.params.containerModifierClass+r).addClass(""+this.params.containerModifierClass+e),this.emitContainerClasses(),this.params.direction=e,this.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),this.emit("changeDirection"),t&&this.update()),this},n.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit"))},n.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var r,i=this,n=i.params,s=i.$el,o=i.$wrapperEl,a=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==e&&(i.$el[0].swiper=null,r=i,Object.keys(r).forEach((function(e){try{r[e]=null}catch(e){}try{delete r[e]}catch(e){}}))),i.destroyed=!0),null},e.extendDefaults=function(e){Oe(Xe,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var r=t.name||Object.keys(e.prototype.modules).length+"_"+Ce();e.prototype.modules[r]=t},e.use=function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)},t=e,i=[{key:"extendedDefaults",get:function(){return Xe}},{key:"defaults",get:function(){return Ue}}],(r=null)&&Qe(t.prototype,r),i&&Qe(t,i),e}();Object.keys(Ye).forEach((function(e){Object.keys(Ye[e]).forEach((function(t){Ke.prototype[t]=Ye[e][t]}))})),Ke.use([Ne,Be]);var Je=Ke;let Ze=null;var et={init:function(e){return new Promise((function(t,r){Ze=new Je(".swiper-container",{direction:"horizontal",simulateTouch:!1,allowTouchMove:!1,initialSlide:e,on:{sliderMove:function(){console.log("moving")}}}),t(Ze)}))},swipeNext:function(){Ze.slideNext()},makeSecondSwiper:function(e){return new Promise((function(t,r){Ze=new Je(e,{direction:"horizontal",simulateTouch:!1,slidesPerView:"auto",allowTouchMove:!1,centeredSlides:!0,on:{sliderMove:function(){console.log("moving")}}}),t(Ze)}))}};const tt=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}];let rt=null;function it(e){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${e.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${e.image}.jpg' alt='${e.hed}'>\n\t\t<p class='article__headline'>${e.hed}</p>\n\t</a>\n\t`}var nt={init:function(){!function(e){const t=new XMLHttpRequest,r="https://pudding.cool/assets/data/stories.json?v="+Date.now();t.open("GET",r,!0),t.onload=()=>{if(t.status>=200&&t.status<400){const r=JSON.parse(t.responseText);e(r)}else e(tt)},t.onerror=()=>e(tt),t.send()}(e=>{rt=e,function(){const e=window.location.href,t=rt.filter(t=>!e.includes(t.url)).slice(0,4).map(it).join("");d3.select(".pudding-footer .footer-recirc__articles").html(t)}()})}},st=(r(32),r(2)),ot=r.n(st);let at=null,lt=null,ut=0;var ct={init:function(e,t){console.log(e);let r=d3.scaleLinear().domain([0,1]).range([-1,1]),i=d3.scaleLinear().domain([0,1]).range([11,15]);at=d3.select(t).style("left",(function(){return".cover-score"!=t?window.innerWidth/2-170*ut+170+"px":null})).style("opacity",0);let n=at.selectAll("div").data(e).enter().append("div").attr("class","cover").style("width","120px");n.append("div").attr("class","shelf"),n.append("div").attr("class","shelf-shadow"),lt=n.append("div").attr("class","cover-img").style("height","120px").classed("cover-img-active",(function(e,t){return t<2*Math.floor(window.innerWidth/170)})).attr("data-shadow-color","16,26,64").style("transform",(function(){return`perspective(730px) rotateX(${Math.floor(i(Math.random()))}deg) rotateY(${Math.floor(r(Math.random()))}deg)`})).each((function(e,t){let r=d3.select(this);d3.image(e,{crossOrigin:"anonymous"}).then((function(e){r.append("img").attr("src",e.src).style("height","120px"),r.append("img").attr("src",e.src).attr("class","img-fake").style("height","120px")})),r.append("div").attr("class","plastic").style("transform",(function(){return"translate(-1px,0px)"}))})),ot()(document.getElementsByClassName("cover-img-active"),{followMouse:!1,length:7,opacity:.1,pageX:window.innerWidth/2,pageY:0}),at.transition("opacity").duration(1e3).style("opacity",1)},scrollTick:function(e){let t=ut;ut=e+t,lt.classed("cover-img-active",(function(e,t){return t<ut+Math.floor(window.innerWidth/170)&&t>ut-2*Math.floor(window.innerWidth/170)})),at.transition().duration(1250*e).styleTween("left",(function(){return function(r){return Math.round(100*r)%5==0&&ot.a.update(),window.innerWidth/2-(170*t+170*e*r-170)+"px"}})).on("end",(function(e){ot.a.reset(),ot()(document.getElementsByClassName("cover-img-active"),{followMouse:!1,length:7,opacity:.1,pageX:window.innerWidth/2,pageY:0})}))},raiseCover:function(e){d3.select(".cover-wrapper").selectAll(".cover").transition().duration(500).delay(1e3).style("padding-bottom",(function(t,r){return r==e?"30px":null})).on("end",(function(){ot.a.update()}))}};var pt={init:async function(e){return console.log(e),new Promise((function(t){console.log("initing");const r=window.MusicKit.configure({developerToken:e,app:{name:"Judge My Apple Music",build:"2.0.0"}});console.log(r),delete window.MusicKit,t(r)}))}};let ht=[];var dt={init:async function(e,t){function r(){return{Authorization:"Bearer "+e.developerToken,Accept:"application/json","Content-Type":"application/json","Music-User-Token":e.musicUserToken}}console.log(r()),console.log(t),console.log(e);let i=await e.api.recentPlayed(),n=await e.api.recommendations();console.log(n),console.log("ALT RECOS");let s=await fetch("https://api.music.apple.com/v1/me/recommendations?l=en-US",{headers:r()}).then(e=>e.json());console.log(s);let o=null;for(let e in n){if("Made for You"==n[e].attributes.title.stringForDisplay){let t=n[e].relationships.contents.data;for(let e in t)"Favorites Mix"==t[e].attributes.name&&(o=t[e].id)}else if(0==e){let t=n[e].relationships.contents.data;for(let e in t)0==e&&(o=t[e].id)}}let a=await e.api.library.collection("recently-added",null,null),l=await fetch("https://api.music.apple.com/v1/me/recent/played/tracks",{headers:r()}).then(e=>e.json()),u=await fetch("https://api.music.apple.com/v1/catalog/us/playlists?ids="+o,{headers:r()}).then(e=>e.json()).then(e=>{console.log(e);let t=[];return e.data.forEach(e=>{console.log(e),e.relationships.tracks.data.forEach(e=>{t.push(e),ht.push(e.attributes.genreNames)})}),t});return ht=await new Promise((function(e,t){let r=d3.groups(ht.flat(1),(function(e){return e})).sort((function(e,t){return t[1].length-e[1].length}));r=r.filter((function(e){return"Music"!=e[0]})),e(r)})),console.log(ht),{recentPlayed:i,recentAdded:a,recentTracks:l,forYouPlaylist:u,genres:ht}}};let ft=null,mt=null,vt=0,gt=[],yt=null,_t=d3.select(".score-num"),wt=null,bt=!1,kt=null,xt=null,Tt=null,St=[],Pt=[],At=null,Et=[],Ct=null,Mt=null,Ot=null,Lt=null;function It(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function Dt(e){let t=null;"<span>Awaiting Data</span>"==d3.select(".score-text").html()?(t=70,d3.select(".score-text").html("/100<span></span>")):(console.log("there"),t=+_t.text()),console.log(t);d3.scaleQuantize().domain([0,100]).range(["Pretty good","Good","Decent","Respectable","All right","Solid","Okay","Fair","Fine","Mediocre","Hit-or-miss","Some bold choices...","Unique...","Could be worse","Kinda rough","Weak","Expected","Okay if ironic","Cliche","Embarrassing","Gross","Bad","Bleak","Distressing","Discouraging","Nauseating","Exhausting","Sad","Horrific"].reverse());!function r(){setTimeout((function(i){if(t==e)return d3.select(".score-text").html("/100"),t;t<e?t+=1:t-=1,_t.text(t),r()}),50)}()}function Nt(e,t){return new Promise((function(r){let i=d3.select(t).append("div").attr("class","options align-right").selectAll("p").data(e).enter().append("p");console.log("apple stuff"),i.each((function(e,t){if(0==t){let e=d3.select(this).append("a").attr("href","https://music-bot-pudding.herokuapp.com/login");e.on("click",(function(e){d3.select(this).select("span").style("background-color","#000000").style("color","white").html("Connecting...")})),e.append("span").html('<svg class="spotify-logo" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"> <path d="M8.97285 0C13.9281 0 17.9453 4.01711 17.9453 8.97236C17.9453 13.9278 13.9281 17.9446 8.97285 17.9446C4.01706 17.9446 0.000276566 13.9278 0.000276566 8.97236C0.000276566 4.01743 4.01706 0.000428569 8.97295 0.000428569L8.97285 0ZM4.85813 12.9407C5.01885 13.2043 5.36385 13.2879 5.62742 13.1261C7.73406 11.8393 10.3861 11.5479 13.5093 12.2614C13.8102 12.33 14.1102 12.1414 14.1788 11.8404C14.2477 11.5393 14.0599 11.2393 13.7582 11.1707C10.3403 10.3895 7.40856 10.7261 5.04349 12.1714C4.77992 12.3332 4.69635 12.6771 4.85813 12.9407ZM3.75992 10.4973C3.96242 10.8268 4.39313 10.9307 4.72206 10.7282C7.13385 9.24546 10.8102 8.81614 13.6629 9.68207C14.0329 9.79382 14.4236 9.58532 14.5359 9.216C14.6473 8.84604 14.4387 8.45604 14.0694 8.34354C10.8109 7.35482 6.75992 7.83375 3.99028 9.53572C3.66135 9.73822 3.55742 10.1689 3.75992 10.4974V10.4973ZM3.66563 7.95332C6.55742 6.23571 11.3285 6.07779 14.0895 6.91575C14.5328 7.05021 15.0017 6.79993 15.136 6.35657C15.2704 5.913 15.0203 5.44446 14.5766 5.30968C11.4072 4.34754 6.13849 4.53343 2.80913 6.50989C2.40949 6.74657 2.27878 7.26161 2.51556 7.65986C2.75128 8.05864 3.26771 8.19011 3.66521 7.95332H3.66563Z" fill="black"/> </svg> Log in with Spotify')}else if(1==t){let e=d3.select(this).append("a").attr("href","https://music-bot-pudding.herokuapp.com/applemusic");e.on("click",(function(e){d3.select(this).select("span").style("background-color","#000000").style("color","white").html("Connecting...")})),e.append("span").html('<svg class="apple-logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 84.3 20.7" style="enable-background:new 0 0 84.3 20.7;" xml:space="preserve"> <path d="M35.4,20.1V6.6h-0.1l-5.4,13.5h-2.1L22.4,6.6h-0.1v13.5h-2.5V1.8H23l5.8,14.6h0.1l5.8-14.6H38v18.3L35.4,20.1L35.4,20.1z   M52.1,20.1h-2.6v-2.3h-0.1c-0.7,1.6-2.1,2.5-4.1,2.5c-2.9,0-4.6-1.9-4.6-5V6.7h2.7v8.1c0,2,1,3.1,2.8,3.1c2,0,3.1-1.4,3.1-3.5V6.7  h2.7L52.1,20.1L52.1,20.1z M59.5,6.5c3.1,0,5,1.7,5.1,4.2h-2.5c-0.2-1.3-1.1-2.1-2.6-2.1C58,8.6,57,9.3,57,10.4c0,0.8,0.6,1.4,2,1.7  l2.1,0.5c2.7,0.6,3.7,1.7,3.7,3.6c0,2.4-2.2,4.1-5.3,4.1c-3.3,0-5.3-1.6-5.5-4.2h2.7c0.2,1.4,1.2,2.1,2.8,2.1c1.6,0,2.6-0.7,2.6-1.8  c0-0.9-0.5-1.4-1.9-1.7l-2.1-0.5c-2.5-0.6-3.7-1.8-3.7-3.8C54.4,8.1,56.4,6.5,59.5,6.5z M66.8,3.2c0-0.9,0.7-1.6,1.6-1.6  c0.9,0,1.6,0.7,1.6,1.6c0,0.9-0.7,1.6-1.6,1.6C67.5,4.8,66.8,4.1,66.8,3.2L66.8,3.2z M67,6.7h2.7v13.4H67V6.7z M81.1,11.3  c-0.3-1.4-1.3-2.6-3.1-2.6c-2.1,0-3.5,1.8-3.5,4.6c0,2.9,1.4,4.6,3.5,4.6c1.7,0,2.7-0.9,3.1-2.5h2.6c-0.3,2.8-2.5,4.8-5.7,4.8  c-3.8,0-6.2-2.6-6.2-6.9c0-4.2,2.4-6.9,6.2-6.9c3.4,0,5.4,2.2,5.7,4.8L81.1,11.3L81.1,11.3z M11.5,3.6C10.8,4.4,9.7,5.1,8.6,5  C8.4,3.8,9,2.6,9.6,1.9c0.7-0.9,1.9-1.5,2.9-1.5C12.6,1.5,12.2,2.7,11.5,3.6L11.5,3.6z M12.5,5.2c0.6,0,2.4,0.2,3.6,2  c-0.1,0.1-2.1,1.3-2.1,3.8c0,3,2.6,4,2.6,4c0,0.1-0.4,1.4-1.3,2.8c-0.8,1.2-1.7,2.4-3,2.4c-1.3,0-1.7-0.8-3.2-0.8  c-1.5,0-2,0.8-3.2,0.8c-1.3,0-2.3-1.3-3.1-2.5c-1.7-2.5-3-7-1.2-10c0.8-1.5,2.4-2.5,4-2.5c1.3,0,2.5,0.9,3.2,0.9  C9.5,6.1,10.9,5.1,12.5,5.2L12.5,5.2z"/> </svg> Log in with Apple Music')}else d3.select(this).append("span").text(e=>e).on("click",(function(e,t){let n=d3.select(this).text();i.style("display",(function(e,t){return d3.select(this).select("span").text()!=n?"none":null})).each((function(e,t){d3.select(this).select("span").text()==n&&d3.select(this).select("span").classed("selected-option",!0)})),r([n,null])}))})),i.on("click",(function(e,t){})),Rt()}))}async function jt(e,t,r){return new Promise((async function(i){let n=d3.select(t).append("div"),s=n.attr("class","options align-right").selectAll("p").data(e).enter().append("p").append("span").text(e=>e);s.on("click",(async function(e,t){console.log("click",t);let o=d3.select(this).text();if(s.style("display",(function(e,t){return d3.select(this).text()!=o?"none":null})).classed("selected-option",(function(e,t){return d3.select(this).text()==o})),"Sounds good!"==t){let e=await r.authorize().then(async e=>await dt.init(r,e));i([o,n.node(),e])}else i([o,n.node(),null])})),Rt()}))}function Ht(e,t){return new Promise((function(r){let i=d3.select(t).append("div"),n=i.attr("class","options align-right").selectAll("p").data(e).enter().append("p").append("span").text(e=>e);n.on("click",(function(e,t){let s=d3.select(this).text();n.style("display",(function(e,t){return d3.select(this).text()!=s?"none":null})).classed("selected-option",(function(e,t){return d3.select(this).text()==s})),r([s,i.node()])})),Rt()}))}function Bt(e,t){console.log("fnk");let r=e[1];return console.log(e),new Promise((function(i){let n={F:0,M:0,K:0};let s=d3.select(".chat-wrapper").append("div").attr("class","fmk align-right options").selectAll("div").data(e[0]).enter().append("div").attr("class","col");s.each((function(e,i){d3.select(this).append("img").attr("src",(function(e,i){if("spotify"==t){r[i].images;let t=null;return e.images.length>0&&(t=Vt(e.images)),t}return console.log(e),e.image}))})),s.append("p").attr("class","artist-name").text(e=>e.name),s.append("div").attr("class","fmk-options fmk-options-wide").selectAll("p").data(["Fuck","Marry","Kill"]).enter().append("p").attr("class","fmk-option fmk-option-wide").append("span").text(e=>e).on("click",(function(e,t){console.log("here"),console.log(d3.select(this).node());let r=d3.select(this).text().slice(0,1);console.log(r),console.log(n[r]),0==n[r]&&(console.log("here"),d3.select(this).classed("selected-option",!0),n[r]=1),n.F+n.M+n.K==3&&i()})),Rt()}))}function Rt(){return new Promise((function(e){let t=d3.select(".chat-section").node();t.scrollTo(0,t.scrollHeight),e()}))}function $t(e){return new Promise((function(t){d3.select(e).append("div").attr("class","thinking-container").html('<svg version="1.1" id="loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-49.5 -1.8 129 84.5" style="enable-background:new -49.5 -1.8 129 84.5;" xml:space="preserve"> <path style="fill:#E9E9E9;" d="M42.4,73.3H-0.4c-18.1,0-33-14.8-33-33v-4.7c0-18.1,14.9-33,33-33h42.8c18.2,0,33,14.9,33,33v4.7 C75.4,58.5,60.5,73.3,42.4,73.3z"/> <circle style="fill:#C8C8C8;" cx="1" cy="38" r="9"/> <circle style="fill:#C8C8C8;" cx="21" cy="38" r="9"/> <circle style="fill:#aaa;" cx="41" cy="38" r="9"/> <circle style="fill:#E9E9E9;" cx="-25.2" cy="62.6" r="10.8"/> <circle style="fill:#E9E9E9;" cx="-41" cy="74.8" r="5"/> </svg>'),t()}))}function Ft(e){return new Promise((function(t){d3.select(e).select(".thinking-container").remove(),t()}))}async function zt(){console.log("money"),console.log(ft);let e=G.get("dev_token");if(G.set("dev_token",null),MusicKit)yt=await pt.init(e);else{await async function(){return new Promise((function(e){document.addEventListener("musickitloaded",()=>{e(!0)})}))}();yt=await pt.init(e)}if(ft){await yt.unauthorize().then(async e=>{await V.typeOut("You've been logged out of Apple Music.",".chat-wrapper",0).then(Rt),await V.typeOut("Reloading site...",".chat-wrapper",0).then(Rt),location.href="/"})}await V.typeOut("Alrighty. A new window will pop open asking for your Apple info.",".chat-wrapper",1e3).then(Rt),await V.typeOut("This allows for one-time access to your music history when you visit this site. We don't ever see your username/password and your music data is never saved.",".chat-wrapper",1e3).then(Rt);let t=await jt(["Sounds good!","Wait, I'm logging in with my Apple ID??"],".chat-wrapper",yt);if("Wait, I'm logging in with my Apple ID??"==t[0])if(await V.typeOut("Yea so in order to get your Apple Music data, the app needs to make a secure request to Apple that will just include your latest music preferences. No information about your username or password is shared with us.",".chat-wrapper",0).then(Rt),t=await Ht(["Ok I'm in.","Sorry this is sketchy."],".chat-wrapper"),console.log(t[0]),"Sorry this is sketchy."==t[0])await V.typeOut("Ok come back someother time if you'd like.",".chat-wrapper",0).then(Rt);else{await V.typeOut("Alrighty. A new window will pop open asking for your Apple info.",".chat-wrapper",1e3).then(Rt);await jt(["Sounds good!","Wait, I'm logging in with my Apple ID??"],".chat-wrapper",yt)}return t[2]}function Vt(e){return e.length>0&&(e=e.sort((function(e,t){return Math.abs(e.width-240)-Math.abs(t.width-240)})))[0].hasOwnProperty("url")?e[0].url:null}var Gt={init:async function(e,t,r,i){if(i&&(ft=i,G.set("deauth",null)),r){mt=r,G.set("client",null),e=await zt(),console.log(e),e.recentTracks=e.recentTracks.data,0==e.forYouPlaylist.length&&(await V.typeOut("Missing data...",".chat-wrapper",500).then(Rt),e.forYouPlaylist=e.recentTracks);let t=e.forYouPlaylist.map((function(e){return{item:e,image:e.attributes.artwork.url.replace("{w}x{h}bb.jpeg","240x240bb.jpeg").replace("{w}x{h}bb.jpg","240x240bb.jpg")}}));Mt=e.recentTracks.map((function(e){return{name:e.attributes.artistName,item:e,image:e.attributes.artwork.url.replace("{w}x{h}bb.jpeg","240x240bb.jpeg").replace("{w}x{h}bb.jpg","240x240bb.jpg")}})),Mt=d3.groups(Mt,(function(e){return e.item.attributes.artistName})).sort((function(e,t){return t[1].length-e[1].length})).map((function(e){return e[1][0]})),t=t.filter((function(e){return null!=e.image})).filter((e,t,r)=>t===r.findIndex(t=>t.image===e.image));for(let e in t)t[e].item.artists=[],t[e].item.artists.push({name:t[e].item.attributes.artistName}),t[e].item.name=t[e].item.attributes.name;t[7].item.name=t[7].item.artists[0].name,t[10].item.name=t[10].item.artists[0].name,Tt=Mt[0];let i=13;Tt&&(i=14);let n=t[i];gt.splice(i,0,n),Tt&&gt.splice(12,0,Tt),gt=t,console.log(e),At=e.genres,console.log(e),console.log(gt)}else if(t.length>0){bt=!0,wt=e.tracks,wt=e.tracks.filter((function(e){return"long_term"==e.timeFrame||"medium_term"==e.timeFrame})).map((function(e){return e.trackData})).flat(1).filter((function(e){return e.album.images.length>0})),wt=d3.groups(wt,(function(e){return e.album.name})),wt=wt.map((function(e){return e[1][0]})),xt=e.playlists,Ot=e.artists.filter((function(e){return"long_term"==e.timeFrame}))[0].artistData,Mt=e.artists.filter((function(e){return"medium_term"==e.timeFrame}))[0].artistData,Et=xt[0].filter((function(e){return 1==e.owned&&e.albumArray.length>1})),At=e.genres,Ct=xt[0],gt=wt.map((function(e){return{item:e,image:Vt(e.album.images)}})),gt=gt.filter((function(e){return null!=e.image})),gt=d3.groups(gt,(function(e){return e.image})).map((function(e){return{item:e[1][0].item,image:e[0]}}));let t={item:Ot[0],image:Vt(Ot[0].images)};gt.splice(7,0,t);let r={item:Ot[2],image:Vt(Ot[2].images)};gt.splice(10,0,r),Tt={item:Mt[0],image:Vt(Mt[0].images)},Tt&&gt.splice(12,0,Tt);let i={item:Ot[4],image:Vt(Ot[4].images)},n=13;Tt&&(n=14),gt.splice(n,0,i);let s=n+1;if(Et.length>0){let e={item:Et[0].name,image:Vt(Et[0].images)};gt.splice(s,0,e)}St=Ct.filter((function(e){return 1==e.workout&&e.albumArray.length>1})),Pt=Ct.filter((function(e){return 1==e.party&&1==e.owned&&e.albumArray.length>1})),console.log(xt),console.log(Ct),console.log(St),console.log(Pt),[gt[2],gt[9]]=[gt[9],gt[2]]}else await async function(){await V.typeOut("Hi, I'm an A.I. trained to evaluate musical taste. To get started, I'll need to see  your Spotify or Apple Music.",".chat-wrapper",1e3).then(Rt),await V.typeOut("I'm just gonna look at what you listen to. I won't post or change anything.",".chat-wrapper",0).then(Rt),Lt=await Nt(["login spotify","login apple","how do you know what's good?"],".chat-wrapper"),"how do you know what's good?"==Lt[0]&&(await V.typeOut("I've been trained on a corpus of over two million indicators of objectively good music, including Pitchfork reviews, record store recommendations, and subreddits you've never heard of.",".chat-wrapper",0).then(Rt),await V.typeOut("Can I look at your Spotify now?",".chat-wrapper",0).then(Rt),Lt=await Nt(["login","No thanks"],".chat-wrapper"),"No thanks"==Lt[0]&&(await V.typeOut("I can't judge your music without seeing your Spotify. I mean, I can guess from your browsing history and cookies that your taste is rough, but that's all I'll say for now.",".chat-wrapper",0).then(Rt),Lt=await Nt(["login"],".chat-wrapper")))}();let n=null;if(ct.init(gt.slice(0,20).map(e=>e.image),".cover-wrapper"),await It(2e3),ct.scrollTick(1),vt+=1,await V.typeOut("Analyzing your listening history...",".chat-wrapper",500).then(Rt),Dt(90+Math.floor(10*Math.random())),d3.select(".score-section").style("visibility","visible"),ct.scrollTick(1),vt+=1,await V.typeOut("lol",".chat-wrapper",500).then(Rt),ct.scrollTick(1),vt+=1,await V.typeOut("omg",".chat-wrapper",500).then(Rt),ct.scrollTick(1),vt+=1,await V.typeOut("okay hold up",".chat-wrapper",0).then(Rt),await $t(".chat-wrapper").then(Rt),await It(2e3),await Ft(".chat-wrapper").then(Rt),ct.scrollTick(1),vt+=1,ct.raiseCover(vt-1),await V.typeOut(`Do you really listen to ${l.parseTrack(gt[vt-1].item)}?`,".chat-wrapper",0).then(Rt),n=await Ht(["Yes","No","I share this account with someone else"],".chat-wrapper"),Dt(70+Math.floor(10*Math.random())),"Yes"==n[0])await V.typeOut("Like ironically?",".chat-wrapper",0).then(Rt),n=await Ht(["lol yea","no..."],".chat-wrapper"),"lol yea"==n?await V.typeOut("Right...",".chat-wrapper",0).then(Rt):await V.typeOut("Cool...",".chat-wrapper",0).then(Rt);else if("No"==n[0]){let e="";"apple"!=platform&&(e="top 10"),await V.typeOut(`Weird, cause it's definitely in your ${e} most-played.`,".chat-wrapper",0).then(Rt)}else await V.typeOut("yeah totally...",".chat-wrapper").then(Rt);return ct.raiseCover(99),await It(1e3),ct.scrollTick(1),vt+=1,await $t(".chat-wrapper").then(Rt),await It(2e3),await Ft(".chat-wrapper").then(Rt),ct.scrollTick(1),vt+=1,console.log(At),await V.typeOut(`Seeing plenty of ${At[0][0]}.`,".chat-wrapper",1500).then(Rt),ct.scrollTick(1),vt+=1,await V.typeOut(`Finding a lot of ${gt[vt-1].item.name}.`,".chat-wrapper",0).then(Rt),await V.typeOut("Like... a LOT.",".chat-wrapper",500).then(Rt),ct.scrollTick(1),vt+=1,await $t(".chat-wrapper").then(Rt),await It(1e3),await Ft(".chat-wrapper").then(Rt),await V.typeOut(`oh boy ${l.parseTrack(gt[vt-1].item)}.`,".chat-wrapper",500).then(Rt),ct.scrollTick(1),vt+=1,await $t(".chat-wrapper").then(Rt),await It(1e3),await Ft(".chat-wrapper").then(Rt),ct.scrollTick(1),vt+=1,await V.typeOut(`oh great another ${gt[vt-1].item.name}  stan...`,".chat-wrapper",1e3).then(Rt),ct.scrollTick(1),vt+=1,await It(1e3),Tt&&(ct.scrollTick(1),vt+=1,await It(500),ct.raiseCover(vt-1),await It(1e3),await V.typeOut(`You've been listening to a lot of ${Mt[0].name} lately.`,".chat-wrapper").then(Rt),await V.typeOut("u okay?",".chat-wrapper").then(Rt),n=await Ht(["Yeah why","Not really"],".chat-wrapper"),Dt(50+Math.floor(10*Math.random())),"Yeah why"==n[0]?await V.typeOut("no reason...",".chat-wrapper").then(Rt):await V.typeOut("listen i'm just a neural net do what you gotta do",".chat-wrapper").then(Rt)),ct.raiseCover(99),await It(1e3),ct.scrollTick(1),vt+=1,await $t(".chat-wrapper").then(Rt),await It(1e3),await Ft(".chat-wrapper").then(Rt),ct.scrollTick(1),vt+=1,await V.typeOut(`Of course ${gt[vt-1].item.name}.`,".chat-wrapper",1e3).then(Rt),await V.typeOut("Fuck marry kill. Choose fast.",".chat-wrapper").then(Rt),r?await Bt([gt.slice(11,14).map(e=>({name:e.item.attributes.artistName,image:e.image})),gt.slice(11,14)],"apple").then(Rt):await Bt([Ot.slice(1,4),Ot.slice(1,4)],"spotify").then(Rt),await It(1e3),await $t(".chat-wrapper").then(Rt),await It(2e3),await Ft(".chat-wrapper").then(Rt),Dt(20+Math.floor(10*Math.random())),n=["Gross.","Whoa.","Uhhhhhhhhhhhhh... cool.","Oh you went there...","Let's just leave that there."],await V.typeOut(n[Math.floor(Math.random()*n.length)],".chat-wrapper").then(Rt),await V.typeOut("Have you been to Coachella?",".chat-wrapper").then(Rt),n=await Ht(["yes","no"],".chat-wrapper"),Dt(18+Math.floor(10*Math.random())),await V.typeOut("Clearly.",".chat-wrapper").then(Rt),Dt(16+Math.floor(10*Math.random())),n=["Well this has been... interesting.","That was exhausting.","Well I'm lightly nauseated."],await V.typeOut(n[Math.floor(Math.random()*n.length)],".chat-wrapper").then(Rt),await V.typeOut("Let's get your final score.",".chat-wrapper",2e3).then(Rt),kt=Dt(1+Math.floor(10*Math.random())),console.log(e),[kt,gt,e,yt]}};var qt={init:function(){return new Promise((function(e,t){d3.select(".login-slide").select(".button-main").on("click",(function(){et.swipeNext(),e()}))}))}};r(33);let Wt=[],Ut=[],Qt=null,Yt={apple:"Apple Music",spotify:"Spotify"};function Xt(){return new Promise((function(e){let t=d3.select(".score-slide").node();console.log(t.scrollHeight),window.scrollTo(0,t.scrollHeight),e()}))}function Kt(e){if(1===e.length)return e[0];if(2==e.length)return e[0]+" and "+e[1];const t=e.slice(0,e.length-1),r=e[e.length-1];return t.join(", ")+", and "+r}function Jt(e){return e.sort((t,r)=>e.filter(e=>e===t).length-e.filter(e=>e===r).length).pop()}function Zt(e){return e.toLowerCase().split("(")[0].replace(/[.,\/#!$%\^&\*;:{}=\-_’'`~()]/g,"").replace(/\s{2,}/g," ").replace(/\s/g,"").replace("remix","")}function er(e){let t=null;return"apple"!=Qt&&(t=d3.sum(e.artists,e=>e.artistData.length)),e.genres.filter((function(e){return!e[0].includes("pop")})).filter((function(e,r){return"apple"==Qt?0==r:e[1].length>.05*t||0==r}))}function tr(e,t,r,i,n){let s=[],o=[],a=[],l=[],u=null;if("apple"!=Qt&&(u=n.artists.filter((function(e){return"medium_term"==e.timeFrame}))[0].artistData,u=u.concat(n.artists.filter((function(e){return"long_term"==e.timeFrame}))[0].artistData)),t.forEach((function(e){e.fragmentArray=e.fragments.map((function(e){return e.id}))})),t.length>0){let e=Math.floor(Math.random()*t[0].fragments.length),r=t[0].fragments[e].id;o.push(t[0].fragments[e].fragment),s.push(t[0].fragments[e].name),a.push(t[0].item),l.push(r),t=t.filter((function(e){return-1==e.fragmentArray.indexOf(r)}))}if(r.length>0){for(let e in u)if(u[e].hasOwnProperty("genres")){u[e].genres.indexOf(r[0].name)>-1&&Ut.push(u[e].name)}let e=Math.floor(Math.random()*r[0].fragments.length);o.push(r[0].fragments[e].fragment);let t=""+r[0].fragments[e].name;Ut.length>0&&(t=`${r[0].fragments[e].name} (e.g., ${Kt(Ut.slice(0,2))})`),s.push(t),l.push(r[0].fragments[e].id)}if(i.length>0){let e=Math.floor(Math.random()*i[0].fragments.length);o.push(i[0].fragments[e].fragment),s.push(i[0].fragments[e].name),a.push(i[0].item),l.push(i[0].fragments[e].id)}if(o.length<3&&e.length>0){let t=Math.floor(Math.random()*e[0].fragments.length);o.push(e[0].fragments[t].fragment),s.push(e[0].fragments[t].name),a.push(e[0].item),l.push(e[0].fragments[t].id)}if(o.length<3&&t.length>1){let e=Math.floor(Math.random()*t[1].fragments.length),r=t[1].fragments[e].id;o.push(t[1].fragments[e].fragment),s.push(t[1].fragments[e].name),a.push(t[1].item),l.push(r),t=t.filter((function(e){return-1==e.fragmentArray.indexOf(r)}))}if(o.length<3&&t.length>2){let e=Math.floor(Math.random()*t[2].fragments.length);o.push(t[2].fragments[e].fragment),s.push(t[2].fragments[e].name),a.push(t[2].item),l.push(t[2].fragments[e].id)}if(o.length<1&&(o.push(function(e){let t=[e+"-as-your-zoom-background",e+"-hive-army-stan-yas-um-slay-mama-i-think","constantly-defending-"+e,"annoying-your-neighbors-with-"+e,"omfg-"+e,e+"-stan","too-much-"+e,"cool-it-with-the-"+e,e+"-on-repeat"];return t[Math.floor(Math.random()*t.length)]}(u[0].name)),s.push(u[0].name),a.push(u[0].item)),o.length<2){Ut=[];let e=er(n);if(e.length>0){o.push(function(e){let t=["too-much-"+e,e+"-overload",e+"-fan",e+"-addict",`${e}-${e}-and-more-${e}`];return t[Math.floor(Math.random()*t.length)]}(e[0][0]));for(let t in u)if(u[t].hasOwnProperty("genres")){u[t].genres.indexOf(e[0][0])>-1&&Ut.push(u[t].name)}let t=""+e[0][0];Ut.length>0&&(t=`${e[0][0]} (e.g., ${Kt(Ut.slice(0,2))})`),s.push(t)}}return{specialFragment:o,specialObsession:s,specialItems:a,specialIds:l}}function rr(e){return e.length>0&&(e=e.sort((function(e,t){return Math.abs(e.width-240)-Math.abs(t.width-240)})))[0].hasOwnProperty("url")?e[0].url:null}var ir={init:async function(e,t,r,i,n,s){Qt=n,console.log(i),"apple"==Qt&&(console.log("Apple"),e.tracks=e.recentTracks.map((function(e){return{name:e.attributes.name,item:e}}))),console.log(e);let o=function(e,t){let r=[],i=t.track.map((function(e){return Zt(e.name)})),n=d3.group(t.track,e=>Zt(e.name)),s=null;s="apple"!=Qt?e.tracks.filter((function(e){return"short_term"!=e.timeFrame})).map((function(e){return e.trackData})).flat(1):e.tracks;let o=d3.groups(s,(function(e){return Zt(e.name)})).map((function(e,t){return{name:e[0],item:e[1][0]}}));return console.log(o),o.forEach((function(e,t){let s=e.name;i.indexOf(s)>-1&&r.push({name:s,fragments:n.get(s),rank:t,item:e})})),console.log(r),r.length>0?r:[]}(e,r),a=function(e,t){let r=[],i=t.artist.map((function(e){return Zt(e.name)})),n=d3.group(t.artist,e=>Zt(e.name)),s=null;if("apple"!=Qt)s=e.artists.filter((function(e){return"short_term"!=e.timeFrame})).sort((function(e,t){return"medium_term"==e.timeFrame||"medium_term"==t.timeFrame?-1:1})),s=s.map((function(e){return e.artistData})).flat(1);else{let t=[];t.push(e.recentTracks.map((function(e){return console.log(e),{name:e.attributes.artistName,image:e.attributes.artwork.url.replace("{w}x{h}bb.jpeg","240x240bb.jpeg")}}))),s=t.flat(1),console.log(s)}return d3.groups(s,(function(e){return Zt(e.name)})).map((function(e,t){return{name:e[0],item:e[1][0]}})).forEach((function(e,t){let s=e.name;console.log(s),i.indexOf(s)>-1&&r.push({name:s,fragments:n.get(s),rank:t,item:e})})),console.log(r),r.length>0?r:[]}(e,r),u=function(e,t){let r=[],i=t.genre.map((function(e){return Zt(e.name)})),n=d3.group(t.genre,e=>Zt(e.name)),s=er(e);return s=s.map((function(e){return Zt(e[0])})).flat(1),console.log(s),s.forEach((function(e,t){i.indexOf(e)>-1&&r.push({name:e,fragments:n.get(e),rank:t})})),console.log(r),r.length>0?r:[]}(e,r),c=function(e,t){let r=[],i=t.album.map((function(e){return Zt(e.name)})),n=d3.group(t.album,e=>Zt(e.name)),s=null;s="apple"!=Qt?e.tracks.filter((function(e){return"short_term"!=e.timeFrame})).sort((function(e,t){return"medium_term"==e.timeFrame||"medium_term"==t.timeFrame?-1:1})).map((function(e){return e.trackData})).flat(1):e.recentTracks.map((function(e){return{album:{name:e.attributes.albumName}}}));let o=d3.groups(s,(function(e){return Zt(e.album.name)})).filter((function(e,t){return"apple"!=Qt?e[1].length>3:e}));return console.log(o),o.length>0&&(o=o.map((function(e,t){return{name:e[0],item:e[1][0]}})),o.forEach((function(e,t){let s=e.name;console.log(s),i.indexOf(s)>-1&&r.push({name:s,fragments:n.get(s),rank:t,item:e})}))),console.log(r),r.length>0?r:[]}(e,r),p=i[1].map((function(e,t){return e.image})),h=tr(o,a,u,c,e);console.log(h);let d=h.specialItems.map((function(e){let t=null;return"apple"!=Qt?("track"==e.item.type?e.item.album.hasOwnProperty("images")&&(t=rr(e.item.album.images)):e.item.hasOwnProperty("images")&&(t=rr(e.item.images)),t):(console.log(e.item),e.item.image.replace("{w}x{h}bb.jpeg","240x240bb.jpeg").replace("{w}x{h}bb.jpg","240x240bb.jpg"))}));var f;d=[...new Set(d)],console.log(p),d=d.concat(p).flat(1),d3.select(".score-chat").style("padding-top","14rem"),d3.select(".score-chat").style("padding-bottom","300px"),await(f=2e3,new Promise((function(e){setTimeout((function(){e()}),f)}))),ct.init(d.slice(0,10),".cover-score");let m=function(e){let t=e.tracks.filter((function(e){return e})).map((function(e){return"apple"!=Qt?e.trackData:(console.log(e),e)})).flat(1),r=t.map((function(e){return"apple"!=Qt?+e.album.release_date.slice(0,4):(console.log(e),+e.item.attributes.releaseDate.slice(0,4))})),i=Math.floor(d3.mean(r,e=>e));console.log(i);let n=Math.floor(Jt(t.map((function(e){return"apple"!=Qt?+e.album.release_date.slice(2,3):+e.item.attributes.releaseDate.slice(2,3)}))));console.log(n);let s=t.filter((function(e,t){return"apple"!=Qt?+e.album.release_date.slice(2,3)==n:+e.item.attributes.releaseDate.slice(2,3)==n}));s=d3.groups(s,(function(e,t){return e.name})).map((function(e){return e[1][0]})),"apple"==Qt&&(s=s.map((function(e){return{name:e.name,artists:[{name:e.item.attributes.artistName}],item:e.item}}))),console.log(s);let o=[],a=[],l=t.filter((function(e){return"apple"!=Qt?+e.album.release_date.slice(0,4)<i:(console.log(e),+e.item.attributes.releaseDate.slice(0,4)<i)})).sort((function(e,t){return"apple"!=Qt?+e.album.release_date.slice(0,4)-+t.album.release_date.slice(0,4):+e.item.attributes.releaseDate.slice(0,4)-+t.item.attributes.releaseDate.slice(0,4)}));if(l=d3.groups(l,(function(e,t){return e.name})).map((function(e){return e[1][0]})),1==n){let e=null;e="apple"!=Qt?Math.floor(Jt(s.map(e=>+e.album.release_date.slice(0,4)))):Math.floor(Jt(s.map(e=>+e.item.attributes.releaseDate.slice(0,4)))),e<2019&&(o=s.filter((function(e,t){return"apple"!=Qt?+e.album.release_date.slice(0,4)<2019:+e.item.attributes.releaseDate.slice(0,4)<2019})))}if(1==n||2==n){let e=null;e="apple"!=Qt?Math.floor(Jt(s.map(e=>+e.album.release_date.slice(0,4)))):Math.floor(Jt(s.map(e=>+e.item.attributes.releaseDate.slice(0,4)))),e>2018&&(a=s.filter((function(e,t){return"apple"!=Qt?+e.album.release_date.slice(0,4)>2018:+e.item.attributes.releaseDate.slice(0,4)>2018})))}return{avgReleaseDate:i,tracksBelowAvgReleaseDate:l,avgReleaseDecade:n,tracksInAvgReleaseDecade:s,obamaEra:o,presentTracks:a}}(e),v=null;"apple"!=Qt&&(v=function(e){let t=null;"apple"!=Qt&&(t=e.artists.filter((function(e){return"short_term"!=e.timeFrame})).map((function(e){return e.artistData})).flat(1));let r=e.tracks.map((function(e){return e.trackData})).flat(1),i=[...new Set(t.map(e=>e.name))],n=r.filter((function(e,t){return+e.popularity>80})).sort((function(e,t){return t.popularity-e.popularity})),s=r.filter((function(e,t){return+e.popularity<65})).sort((function(e,t){return e.popularity-t.popularity})),o=t.filter((function(e){return+e.popularity>80})).sort((function(e,t){return t.popularity-e.popularity})),a=t.filter((function(e){return+e.popularity<65})).sort((function(e,t){return e.popularity-t.popularity}));o=d3.groups(o,e=>e.name).map((function(e,t){return e[1][0]})),a=d3.groups(a,e=>e.name).map((function(e,t){return e[1][0]}));let l=o.length/i.length,u=a.length/i.length,c="little";return l>.6?c="most":u>.5?c="obscure":l>.3&&(c="pretty"),{percentBasic:l,percentObscure:u,level:c,popularArtists:o,obscureArtists:a,popularTracks:n,obscureTracks:s}}(e)),await V.specialScore(Qt,h.specialFragment.join("-"),".score-chat-special",500).then(Xt),await V.typeOut(`> Thank your obsessions with ${Kt(h.specialObsession)} for that.`,".score-chat",1500).then(Xt);let g=h.specialObsession.map((function(e){return Zt(e)})),y=a.concat(o,u,c),_=[],w=h.specialIds;y=y.filter((function(e){let t=!1,r=[...new Set(e.fragments.map((function(e){return e.id})))];e.fragmentArray=r;for(let e in r)h.specialIds.indexOf(r[e])>-1&&(t=!0);return-1==g.indexOf(e.name)||0==t})).sort((function(e,t){return e.rank-t.rank}));for(let e in y){let t=y[e];for(let r in t.fragmentArray)-1==w.indexOf(t.fragmentArray[r])&&(w=w.concat(t.fragmentArray),_.push(y[e]))}_=_.slice(0,5).map((function(e){return e.fragments[Math.floor(Math.random()*e.fragments.length)].fragment}));let b=[...new Set(_)];b.length>0&&await V.typeOut(`> Based on your listening habits, I can also tell you your ${Yt[Qt]} was...`,".score-chat",500).then(Xt);for(let e in b)await V.typeOut(`> ${b[e]} bad`,".score-chat",500).then(Xt);Wt=["Here's what else I learned in that hellscape:","Here's what else is going on in your aural trash fire:","Unfortunately that's not all I learned:","But wait, it gets worse:"],await V.typeOut("> "+Wt[Math.floor(Math.random()*Wt.length)],".score-chat",1e3).then(Xt);let k=d3.select(".score-chat").append("div").attr("class","report");d3.select(".score-chat").style("padding-bottom",null),k.append("p").attr("class","top-margin bold").text("You listen to these too much:"),k.append("div").append("ul").selectAll("li").data((function(t){return"apple"!=Qt?e.tracks.filter(e=>"medium_term"==e.timeFrame)[0].trackData.slice(0,5):e.recentAdded.filter((function(e){return"library-playlists"!=e.type})).length>0?e.recentAdded.filter((function(e){return"library-playlists"!=e.type})).slice(0,5).map((function(e){return{name:e.attributes.name,artists:[{name:e.attributes.name}]}})):e.tracks.slice(0,5).map((function(e){return{name:e.name,artists:[{name:e.item.attributes.artistName}]}}))})).enter().append("li").text((function(e){return l.parseTrack(e)})),"apple"!=Qt&&(k.append("p").attr("class","top-margin bold").text((function(e){return"apple"==Qt?"You might want to take a break from these artists:":"You stan these artists to an uncomfortable extent:"})),k.append("div").append("ul").selectAll("li").data((function(t){if("apple"!=Qt)return e.artists.filter(e=>"long_term"==e.timeFrame)[0].artistData.slice(0,5);return d3.groups(e.forYouPlaylist.map((function(e){return{name:e.attributes.artistName}})),(function(e){return e.name})).sort((function(e,t){return t[1].length-e[1].length})).map((function(e){return{name:e[0]}})).slice(0,5)})).enter().append("li").text((function(e){return e.hasOwnProperty("name")?e.name:null})));let x={most:[],pretty:[],little:[],obscure:[]};if(v){v.popularArtists.length>0&&(console.log("pop artists 0"),x.pretty.push(`You've got some original music, but most of it is mainstream garbage, like ${v.popularArtists[0].name}.`)),v.popularArtists.length>1&&(console.log("pop artists 1"),x.most.push(`You listen to what everybody else listens to, like ${v.popularArtists[0].name} and ${v.popularArtists[1].name}.`)),v.popularArtists.length>2&&(console.log("pop artists 2"),x.pretty.push(`You listen to a few unique things, but most of it is what everybody else listens to, like ${v.popularArtists[1].name} and ${v.popularArtists[2].name}.`)),v.popularArtists.length>3&&(console.log("pop artists 3"),x.most.push(`${v.popularArtists[2].name} and ${v.popularArtists[3].name}? Almost all your music is what somebody else told you to listen to.`),x.pretty.push(`Most of your music comes straight from iHeartRadio. lol ${v.popularArtists[3].name}.`)),v.popularArtists.length>5&&(console.log("pop artists 5"),x.most.push(`With ${v.popularArtists[4].name} and ${v.popularArtists[5].name}, your music library has all the originality of a discount bin at Walmart.`)),v.popularArtists.length>7&&(console.log("pop artists 7"),x.most.push(`All that ${v.popularArtists[6].name} and ${v.popularArtists[7].name} makes your Spotify taste like a Frappuccino.`)),v.obscureArtists.length>0&&v.popularArtists.length>0&&(console.log("obscure artists 0"),x.little.push(`Yeah, you've got some obscure artists like ${v.obscureArtists[0].name}, but your real top ones are ultra-mainstream like ${v.popularArtists[0].name}.`)),v.obscureArtists.length>0&&(console.log("obscure artists 0,0"),x.little.push(`You're trying to be cool with ${v.obscureArtists[0].name}, but your favorites are the same as everybody else's.`)),v.obscureArtists.length>1&&(console.log("obscure artists 0,1"),x.obscure.push(`Oh wow ${v.obscureArtists[0].name} and ${v.obscureArtists[1].name}! Your taste is so obscure that's so cool I bet you're super interesting.`)),v.obscureArtists.length>2&&(console.log("obscure artists 2"),x.little.push(`You're trying to impress with some obscure tracks like ${v.obscureArtists[2].name}. Nobody's fooled.`)),v.obscureArtists.length>4&&x.obscure.push(`${v.obscureArtists[3].name} and ${v.obscureArtists[4].name}? Where do you even find this?`);let e=`<span class="bold">You are ${Math.round(100*v.percentBasic)}% basic.</span> ${x[v.level][Math.floor(Math.random()*x[v.level].length)]}.`;"obscure"==x[v.level]&&(e=`<span class="bold">You are ${Math.round(100*v.percentBasic)}% basic.</span> ${x[v.level][Math.floor(Math.random()*x[v.level].length)]}. There's a reason nobody listens to the same stuff as you.`),k.append("p").attr("class","top-margin").html(e)}let T=`19${m.avgReleaseDecade}0s`;m.avgReleaseDecade<3&&(T=`20${m.avgReleaseDecade}0s`),console.log(m);let S={past:`You're stuck in the ${T}.`,mid:"You're stuck in the early 2010s.",present:"You're too trendy for your own good."},P={past:[],mid:[],present:[]},A=S.past,E=P.past;console.log(m.tracksInAvgReleaseDecade),m.tracksInAvgReleaseDecade.length>0&&(console.log("release 0"),E.push(`You've gotta get over ${l.parseTrack(m.tracksInAvgReleaseDecade[0])}.`)),m.tracksInAvgReleaseDecade.length>1&&(console.log("release 1"),console.log(m.tracksInAvgReleaseDecade[1]),"apple"!=Qt?E.push(`Forget about ${m.tracksInAvgReleaseDecade[1].artists[0].name}'s ${m.tracksInAvgReleaseDecade[1].album.name} and move on.`):E.push(`Forget about ${m.tracksInAvgReleaseDecade[1].artists[0].name}'s ${m.tracksInAvgReleaseDecade[1].name} and move on.`)),m.tracksInAvgReleaseDecade.length>2&&(console.log("release 2"),E.push(`You know there's been good music since ${m.tracksInAvgReleaseDecade[2].artists[0].name}, right?`)),1!=m.avgReleaseDecade&&2!=m.avgReleaseDecade||(A=S.present,E=P.present,console.log("decade 1,2",m.presentTracks),m.presentTracks.length>1&&(console.log("present 1"),P.present.push(`You only listen to music made in the last year like ${l.parseTrack(m.presentTracks[0])} and ${l.parseTrack(m.presentTracks[1])}.`)),m.presentTracks.length>0&&P.present.push("You know there's good music from before 2019, right?"),m.obamaEra.length>1&&(console.log("obama length",m.obamaEra),P.mid.push(`You only listen to Obama-era jams like ${l.parseTrack(m.obamaEra[0])} and ${l.parseTrack(m.obamaEra[1])}.`),m.obamaEra.length>2&&(console.log("obama 2"),P.mid.push(`For you, music's been all downhill since ${m.obamaEra[2].artists[0].name} made ${m.obamaEra[2].name}.`)),m.obamaEra.length>3&&(console.log("obama 3"),P.mid.push(`You must have peaked right around ${m.obamaEra[3].artists[0].name}'s ${m.obamaEra[3].album.name}.`)),A=S.mid,E=P.mid)),k.append("p").attr("class","top-margin").html(`<span class="bold">${A}</span> ${E[Math.floor(Math.random()*E.length)]}`);let C=["Analysis completed in 4.012 exhausting seconds.","Analysis finally complete.","That's it. I'm done.","Well, that was really something."],M=["I need to go sit in silence for a second.","I need to go recalibrate my taste levels.","I guess the important thing is that your music makes you feel good...","Thanks for letting me see your music I guess."],O=["Shutting down."];k.append("p").attr("class","top-margin").text(C[Math.floor(Math.random()*C.length)]),k.append("p").text(M[Math.floor(Math.random()*M.length)]),k.append("p").attr("class","bold").text(O[Math.floor(Math.random()*O.length)]),k.append("p").attr("class","top-margin").html("Enjoy this project? Consider helping fund The Pudding on Patreon."),k.append("a").attr("class","patron-button").attr("href","https://patreon.com/thepudding").attr("target","_blank").html('<button type="button" name="button">Become a Patron</button>'),k.append("p").attr("class","top-margin").html((function(e){return"apple"==Qt?'You can disconnect this project from your Apple account <span href="">here</span>.':'You can disconnect this project from your Spotify account <a href="https://www.spotify.com/account/apps/">here</a> under the app name &ldquo;Bad Music&rdquo;. This project does not store any Spotify data.'})).each((function(e){d3.select(this).select("span").style("text-decoration","underline").style("cursor","pointer").on("click",(async function(e){await s.unauthorize().then(async e=>{location.reload(!0)})}))})),k.append("p").attr("class","top-margin").html("You should subscribe to our newsletter too."),k.append("form").attr("action","https://poly-graph.us11.list-manage.com/subscribe/post").attr("method","POST").html('<input type="hidden" name="u" value="c70d3c0e372cde433143ffeab"> <input type="hidden" name="id" value="9af100ac0f"> <label style="position:absolute;opacity:0" for="MERGE0">Email</label> <input label="email" class="newsletter__input" type="email" autocapitalize="off" autocorrect="off" name="MERGE0" id="MERGE0" size="25" value="" placeholder="you@example.com"> <div class="hidden-from-view" style="left:-10000px;position:absolute"><input label="text" type="text" name="b_c70d3c0e372cde433143ffeab_9af100ac0f" tabindex="-1" value=""></div> <input class="btn" style="" type="submit" name="submit" value="Subscribe">'),k.append("p").attr("class","top-margin").html('Or follow us on <a target="_blank" href="https://www.instagram.com/the.pudding">Instagram</a>, <a target="_blank" href="https://twitter.com/puddingviz">Twitter</a>, <a target="_blank" href="https://www.facebook.com/pudding.viz">Facebook</a>, and <a href="/feed/index.xml" target="_blank">RSS</a>.'),k.append("p").attr("class","top-margin").html("This is a satirical project and does not use real artificial intelligence, but a faux pretentious music-loving AI. The code creates a custom blend of jokes from our database paired with the insights found in the artist, album, genre, and track data from your Spotify."),k.append("p").attr("class","top-margin").html('The project is by <a href="https://pudding.cool/author/mike-lacher/">Mike Lacher</a> & <a href="https://pudding.cool/author/matt-daniels/">Matt Daniels</a> for <a href="https://pudding.cool">The Pudding</a>. Additional support from <a href="https://www.omrirolan.com/">Omri Rolan</a>, <a href="https://pudding.cool/author/kevin-litman-navarro/">Kevin Litman-Navarro</a>.'),d3.select("footer").style("display","block")}};let nr=null;var sr={init:async function(){function e(e){d3.select(".swiper-container-2").selectAll(".swiper-slide").filter((function(t,r){return r==e})).transition().duration(500).style("opacity",(function(e,t){return 1}))}let t=await et.makeSecondSwiper(".swiper-container-2");var r,i,n;await V.addLine("> Initializing neural net...",".ai-building-slide-title",1e3),r=".ai-building-slide-title",i="progress-bar",n="<span class='line-wrapper'> > Training on <span class='num'>0</span> indicators of objectively good music...</span><span class='bar'>░░░░░░░░░░</span>",nr=d3.select(r).append("p").attr("class",i).html(n).style("opacity",0).transition().duration(150).delay(500).style("opacity",1);let s=d3.select(".progress-bar").select(".num"),o=d3.select(".progress-bar").select(".bar");return e(t.activeIndex),await V.sleepDelay(1e3),s.text("153"),o.html("▓░░░░░░░░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("500"),o.html("▓▓░░░░░░░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("1,230"),o.html("▓▓▓░░░░░░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("7,230"),o.html("▓▓▓▓░░░░░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("18,832"),o.html("▓▓▓▓▓▓░░░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("42,381"),o.html("▓▓▓▓▓▓▓▓░░"),await V.sleepDelay(500),t.slideNext(),e(t.activeIndex),s.text("79,032"),o.html("▓▓▓▓▓▓▓▓▓▓"),await V.sleepDelay(1e3),await V.addLine("> Finalizing...",".ai-building-slide-title",2e3),"hi"}};function or(e){return new Promise((t,r)=>{const i=e.split(".").pop();"csv"===i?d3.csv("assets/data/"+e).then(t).catch(r):"json"===i?d3.json("assets/data/"+e).then(t).catch(r):r(new Error("unsupported file type for: "+e))})}function ar(e,t){let r=[];return e.forEach((function(e,i){let n=i,s=e.signal.split(", ");for(let i in s){let o=s[i],a=e.fragment.split("\n").filter((function(e){return""!=e}));if(a.length>0)for(let e in a)r.push({name:o,fragment:a[e],id:`${t}-${n}`})}})),r}var lr={init:function(){return function(e){if("string"==typeof e)return or(e);const t=e.map(or);return Promise.all(t)}(["fragments-artists-2023-update.csv","fragments-albums-3.csv","fragments-genres-2.csv","fragments-tracks-2.csv"]).then(e=>{let t=ar(e[0],"artist");return{album:ar(e[1],"album"),artist:t,genre:ar(e[2],"genre"),track:ar(e[3],"track")}}).catch(console.error)}};var ur={init:function(){d3.select(".data-privacy").on("click",(function(){d3.select(".data-modal").classed("visible",!0)})),d3.select(".data-modal").select("button").on("click",(function(){d3.select(".data-modal").classed("visible",!1)}))}};const cr=d3.select("body");let pr=0,hr=null;function dr(){const e=cr.node().offsetWidth;pr!==e&&(pr=e)}!async function(){a(),cr.classed("is-mobile",o.any()),window.addEventListener("resize",n()(dr,150));let e=G.get("access_token"),t=G.get("client"),r=G.get("deauth"),i=0;if(e.length>0&&(i=2),ur.init(),hr=await et.init(i),e.length>0){nt.init(),d3.select(".swiper-container-2").remove();let i=await se.init(e),n=await lr.init(),s=await Gt.init(i,e,t,r);d3.select(".swiper-container").remove(),d3.select(".cover-wrapper").remove(),await ir.init(i,e,n,s,"spotify")}else if(t){await hr.slideNext(0),await hr.slideNext(0),d3.select(".swiper-container-2").remove();let i=await lr.init(),n=await Gt.init(null,e,t,r);d3.select(".swiper-container").remove(),d3.select(".cover-wrapper").remove(),await ir.init(n[2],e,i,n,"apple",n[3])}else await qt.init(hr),await sr.init(),await hr.slideNext(),d3.select(".swiper-container-2").remove(),console.log(t),await Gt.init(null,e,t,r)}()}]);